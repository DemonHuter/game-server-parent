2025-10-10 09:26:58.306 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14804 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 09:26:58.313 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 09:26:58.313 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 09:26:59.289 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 09:26:59.299 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 09:26:59.299 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 09:26:59.455 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 09:26:59.455 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1095 ms
2025-10-10 09:26:59.739 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 09:26:59.740 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 09:26:59.741 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 09:26:59.750 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 09:26:59.767 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 09:26:59.992 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 09:27:00.003 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 09:27:00.039 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 09:27:00.068 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 09:27:00.077 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 09:27:00.077 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 327ms, size: 0
2025-10-10 09:27:00.077 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 09:27:00.077 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 09:27:00.077 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 09:27:00.078 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:27:00.097 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 3000: ChatModuleHandler
2025-10-10 09:27:00.099 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 09:27:00.101 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 09:27:00.101 [main] INFO  com.game.core.GameHandlerManager - methodMap:{2000=public static com.google.protobuf.Parser com.game.proto.GameProto$LoginRequest.parser(), 3000=public static com.google.protobuf.Parser com.game.proto.GameProto$ChatRequest.parser(), 1000=public static com.google.protobuf.Parser com.game.proto.GameProto$HeartbeatMessage.parser()}
2025-10-10 09:27:00.101 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 09:27:00.205 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 09:27:00.317 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 09:27:00.709 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 09:27:00.739 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 09:27:00.760 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.794 seconds (JVM running for 3.835)
2025-10-10 09:27:00.765 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 09:27:01.246 [RMI TCP Connection(3)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 09:27:01.246 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 09:27:01.247 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-10 09:27:17.745 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:51590
2025-10-10 09:27:17.857 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=1, size=31
2025-10-10 09:27:17.858 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=1
2025-10-10 09:27:17.869 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:27:17.876 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=1, totalSize=23
2025-10-10 09:27:47.794 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=2, size=31
2025-10-10 09:27:47.795 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=2
2025-10-10 09:27:47.795 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:27:47.795 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=2, totalSize=23
2025-10-10 09:28:17.804 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=3, size=31
2025-10-10 09:28:17.805 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=3
2025-10-10 09:28:17.805 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:28:17.806 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=3, totalSize=23
2025-10-10 09:28:47.810 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=4, size=31
2025-10-10 09:28:47.810 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=4
2025-10-10 09:28:47.810 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:28:47.810 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=4, totalSize=23
2025-10-10 09:29:17.825 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=5, size=31
2025-10-10 09:29:17.825 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=5
2025-10-10 09:29:17.826 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:29:17.826 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=5, totalSize=23
2025-10-10 09:29:47.835 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=6, size=31
2025-10-10 09:29:47.836 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=6
2025-10-10 09:29:47.836 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:29:47.836 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=6, totalSize=23
2025-10-10 09:30:17.846 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=7, size=31
2025-10-10 09:30:17.846 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=7
2025-10-10 09:30:17.846 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:30:17.846 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=7, totalSize=23
2025-10-10 09:30:47.847 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=8, size=31
2025-10-10 09:30:47.848 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=8
2025-10-10 09:30:47.848 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:30:47.848 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=8, totalSize=23
2025-10-10 09:31:17.854 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=9, size=31
2025-10-10 09:31:17.854 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=9
2025-10-10 09:31:17.854 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:31:17.854 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=9, totalSize=23
2025-10-10 09:31:47.862 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=10, size=31
2025-10-10 09:31:47.863 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=10
2025-10-10 09:31:47.863 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:31:47.863 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=10, totalSize=23
2025-10-10 09:32:00.079 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 09:32:00.079 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 09:32:17.869 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=11, size=31
2025-10-10 09:32:17.870 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=11
2025-10-10 09:32:17.870 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:32:17.870 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=11, totalSize=23
2025-10-10 09:32:47.886 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=12, size=31
2025-10-10 09:32:47.886 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=12
2025-10-10 09:32:47.886 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:32:47.887 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=12, totalSize=23
2025-10-10 09:33:17.891 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=13, size=31
2025-10-10 09:33:17.891 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=13
2025-10-10 09:33:17.891 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:33:17.892 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=13, totalSize=23
2025-10-10 09:33:47.904 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=14, size=31
2025-10-10 09:33:47.905 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=14
2025-10-10 09:33:47.905 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:33:47.905 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=14, totalSize=23
2025-10-10 09:34:17.908 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=15, size=31
2025-10-10 09:34:17.908 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=15
2025-10-10 09:34:17.908 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:34:17.908 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=15, totalSize=23
2025-10-10 09:34:47.920 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=16, size=31
2025-10-10 09:34:47.920 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=16
2025-10-10 09:34:47.921 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:34:47.921 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=16, totalSize=23
2025-10-10 09:35:17.923 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=17, size=31
2025-10-10 09:35:17.923 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=17
2025-10-10 09:35:17.923 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:35:17.924 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=17, totalSize=23
2025-10-10 09:35:47.936 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=18, size=31
2025-10-10 09:35:47.936 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=18
2025-10-10 09:35:47.936 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:35:47.936 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=18, totalSize=23
2025-10-10 09:36:17.948 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=19, size=31
2025-10-10 09:36:17.949 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=19
2025-10-10 09:36:17.949 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:36:17.949 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=19, totalSize=23
2025-10-10 09:36:47.954 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=20, size=31
2025-10-10 09:36:47.954 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=20
2025-10-10 09:36:47.954 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:36:47.954 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=20, totalSize=23
2025-10-10 09:37:00.078 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 09:37:00.079 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 09:37:17.959 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=21, size=31
2025-10-10 09:37:17.960 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=21
2025-10-10 09:37:17.960 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:37:17.961 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=21, totalSize=23
2025-10-10 09:37:47.970 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=22, size=31
2025-10-10 09:37:47.970 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=22
2025-10-10 09:37:47.970 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:37:47.971 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=22, totalSize=23
2025-10-10 09:38:17.984 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=23, size=31
2025-10-10 09:38:17.984 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=23
2025-10-10 09:38:17.984 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:38:17.984 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=23, totalSize=23
2025-10-10 09:38:47.998 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=24, size=31
2025-10-10 09:38:47.998 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=24
2025-10-10 09:38:47.998 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:38:47.998 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=24, totalSize=23
2025-10-10 09:39:18.011 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=25, size=31
2025-10-10 09:39:18.011 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=25
2025-10-10 09:39:18.011 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:39:18.011 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=25, totalSize=23
2025-10-10 09:39:48.015 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=26, size=31
2025-10-10 09:39:48.015 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=26
2025-10-10 09:39:48.015 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:39:48.015 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=26, totalSize=23
2025-10-10 09:40:18.029 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=27, size=31
2025-10-10 09:40:18.029 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=27
2025-10-10 09:40:18.029 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:40:18.029 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=27, totalSize=23
2025-10-10 09:40:48.042 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=28, size=31
2025-10-10 09:40:48.043 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=28
2025-10-10 09:40:48.043 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:40:48.043 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=28, totalSize=23
2025-10-10 09:41:18.053 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=29, size=31
2025-10-10 09:41:18.053 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=29
2025-10-10 09:41:18.054 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:41:18.054 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=29, totalSize=23
2025-10-10 09:41:48.057 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=30, size=31
2025-10-10 09:41:48.057 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=30
2025-10-10 09:41:48.057 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:41:48.057 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=30, totalSize=23
2025-10-10 09:42:00.083 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 09:42:00.084 [pool-2-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 09:42:18.059 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=31, size=31
2025-10-10 09:42:18.059 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=31
2025-10-10 09:42:18.059 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:42:18.059 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=31, totalSize=23
2025-10-10 09:42:48.073 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=32, size=31
2025-10-10 09:42:48.073 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=32
2025-10-10 09:42:48.074 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:51590: Client heartbeat
2025-10-10 09:42:48.074 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=32, totalSize=23
2025-10-10 09:43:03.643 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:43:03.646 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:43:03.646 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:51590
2025-10-10 09:43:03.680 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:43:03.748 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:43:03.748 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 09:43:03.749 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 09:43:03.749 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 09:43:03.753 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 09:44:30.690 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14208 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 09:44:30.691 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 09:44:30.691 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 09:44:31.622 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 09:44:31.631 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 09:44:31.632 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 09:44:31.779 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 09:44:31.779 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1047 ms
2025-10-10 09:44:32.035 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 09:44:32.036 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 09:44:32.036 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 09:44:32.046 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 09:44:32.061 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 09:44:32.283 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 09:44:32.293 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 09:44:32.329 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 09:44:32.355 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 09:44:32.364 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 09:44:32.364 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 318ms, size: 0
2025-10-10 09:44:32.364 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 09:44:32.365 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 09:44:32.365 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 09:44:32.366 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:44:32.389 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 3000: ChatModuleHandler
2025-10-10 09:44:32.391 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 09:44:32.393 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 09:44:32.393 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@53eba4b8, 3000=com.game.proto.GameProto$ChatRequest$1@437bd805, 1000=com.game.proto.GameProto$HeartbeatMessage$1@4b88ca8e}
2025-10-10 09:44:32.393 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 09:44:32.486 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 09:44:32.581 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 09:44:32.931 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 09:44:32.959 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 09:44:32.980 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.616 seconds (JVM running for 3.106)
2025-10-10 09:44:32.986 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 09:44:33.228 [RMI TCP Connection(3)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 09:44:33.228 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 09:44:33.231 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-10-10 09:45:04.430 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:52226
2025-10-10 09:45:04.544 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=1, size=31
2025-10-10 09:45:04.545 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=1
2025-10-10 09:45:04.555 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:04.562 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=1, totalSize=23
2025-10-10 09:45:14.484 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=2, size=31
2025-10-10 09:45:14.485 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=2
2025-10-10 09:45:14.485 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:14.485 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=2, totalSize=23
2025-10-10 09:45:24.488 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=3, size=31
2025-10-10 09:45:24.488 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=3
2025-10-10 09:45:24.488 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:24.490 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=3, totalSize=23
2025-10-10 09:45:34.495 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=4, size=31
2025-10-10 09:45:34.495 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=4
2025-10-10 09:45:34.496 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:34.496 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=4, totalSize=23
2025-10-10 09:45:44.498 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=5, size=31
2025-10-10 09:45:44.498 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=5
2025-10-10 09:45:44.499 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:44.499 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=5, totalSize=23
2025-10-10 09:45:54.500 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=6, size=31
2025-10-10 09:45:54.501 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=6
2025-10-10 09:45:54.501 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:52226: Client heartbeat
2025-10-10 09:45:54.501 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=6, totalSize=23
2025-10-10 09:45:56.307 [nioEventLoopGroup-3-1] ERROR c.g.netty.handler.GameMessageHandler - Exception in channel: /127.0.0.1:52226
java.io.IOException: 远程主机强迫关闭了一个现有的连接。
	at sun.nio.ch.SocketDispatcher.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:378)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:254)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
2025-10-10 09:45:56.309 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:52226
2025-10-10 09:45:58.953 [Thread-6] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:45:58.955 [Thread-6] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:45:58.983 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:45:59.059 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:45:59.059 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 09:45:59.059 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 09:45:59.060 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 09:45:59.063 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 09:51:59.042 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 1316 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 09:51:59.043 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 09:51:59.044 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 09:51:59.875 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 09:51:59.882 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 09:51:59.882 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 09:52:00.004 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 09:52:00.004 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 920 ms
2025-10-10 09:52:00.255 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 09:52:00.256 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 09:52:00.256 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 09:52:00.265 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 09:52:00.279 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 09:52:00.474 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 09:52:00.484 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 09:52:00.522 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 09:52:00.548 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 09:52:00.557 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 09:52:00.557 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 293ms, size: 0
2025-10-10 09:52:00.557 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 09:52:00.557 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 09:52:00.557 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 09:52:00.559 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 09:52:00.582 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 3000: ChatModuleHandler
2025-10-10 09:52:00.585 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 09:52:00.587 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 09:52:00.587 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@6b37df8e, 3000=com.game.proto.GameProto$ChatRequest$1@6b63abdc, 1000=com.game.proto.GameProto$HeartbeatMessage$1@7b351446}
2025-10-10 09:52:00.587 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 09:52:00.676 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 09:52:00.770 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 09:52:01.122 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 09:52:01.151 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 09:52:01.171 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.425 seconds (JVM running for 2.952)
2025-10-10 09:52:01.177 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 09:52:01.593 [RMI TCP Connection(1)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 09:52:01.594 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 09:52:01.596 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-10 09:52:08.213 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:52:08.213 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 09:52:08.214 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 09:52:08.214 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 09:52:08.214 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 09:52:08.214 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 09:52:08.214 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 09:52:08.216 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:52:08.246 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 09:52:08.332 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 09:52:08.332 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 09:52:08.332 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 09:52:08.333 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 09:52:08.333 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 09:52:08.333 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 09:52:08.333 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 09:52:08.334 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 09:52:08.338 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 10:38:47.042 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 11640 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 10:38:47.043 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 10:38:47.043 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 10:38:47.901 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 10:38:47.909 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 10:38:47.909 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 10:38:48.034 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 10:38:48.034 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 951 ms
2025-10-10 10:38:48.287 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 10:38:48.288 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 10:38:48.288 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 10:38:48.296 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 10:38:48.311 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 10:38:48.508 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 10:38:48.518 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 10:38:48.556 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 10:38:48.582 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 10:38:48.591 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 10:38:48.591 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 295ms, size: 0
2025-10-10 10:38:48.591 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 10:38:48.592 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 10:38:48.592 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 10:38:48.593 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:38:48.604 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameHandlerManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: Failed to register GameMessageHandler
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 10:38:48.604 [main] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 10:38:48.604 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 10:38:48.608 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 10:38:48.610 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-10 10:38:48.618 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-10 10:38:48.635 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   gameHandlerManager defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]
      ↓
   heartBeatHandler (field protected com.game.core.MessageSender com.game.core.GameMessageHandler.messageSender)
┌─────┐
|  messageSender (field private com.game.model.player.login.PlayerSessionManager com.game.core.MessageSender.playerSessionManager)
↑     ↓
|  playerSessionManager (field private com.game.model.heartbeat.HeartBeatManager com.game.model.player.login.PlayerSessionManager.heartBeatManager)
↑     ↓
|  heartBeatManager (field protected com.game.core.MessageSender com.game.model.CommonManager.messageSender)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-10 10:38:48.640 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameHandlerManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: Failed to register GameMessageHandler
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
Caused by: java.lang.RuntimeException: Failed to register GameMessageHandler
	at com.game.core.GameHandlerManager.registerHandlers(GameHandlerManager.java:80)
	at com.game.core.GameHandlerManager.setApplicationContext(GameHandlerManager.java:41)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:128)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	... 15 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatHandler': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageSender': Unsatisfied dependency expressed through field 'playerSessionManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'messageSender': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(DefaultListableBeanFactory.java:722)
	at org.springframework.context.support.AbstractApplicationContext.getBeansWithAnnotation(AbstractApplicationContext.java:1336)
	at com.game.core.GameHandlerManager.registerHandlers(GameHandlerManager.java:50)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageSender': Unsatisfied dependency expressed through field 'playerSessionManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'messageSender': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'messageSender': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'messageSender': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 62 common frames omitted
Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'messageSender': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 76 common frames omitted
2025-10-10 10:38:48.641 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 10:38:48.641 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 10:55:22.871 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14012 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 10:55:22.872 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 10:55:22.872 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 10:55:23.707 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 10:55:23.714 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 10:55:23.715 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 10:55:23.838 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 10:55:23.838 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 927 ms
2025-10-10 10:55:24.087 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 10:55:24.088 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 10:55:24.088 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 10:55:24.097 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 10:55:24.112 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 10:55:24.322 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 10:55:24.331 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 10:55:24.368 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 10:55:24.394 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 10:55:24.402 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 10:55:24.402 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 305ms, size: 0
2025-10-10 10:55:24.402 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 10:55:24.403 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 10:55:24.403 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 10:55:24.404 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:55:24.415 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameHandlerManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: Failed to register GameMessageHandler
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 10:55:24.415 [main] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 10:55:24.416 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 10:55:24.419 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 10:55:24.421 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-10-10 10:55:24.429 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-10 10:55:24.444 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The dependencies of some of the beans in the application context form a cycle:

   gameHandlerManager defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]
      ↓
   heartBeatHandler (field private com.game.model.heartbeat.HeartBeatManager com.game.model.heartbeat.HeartBeatHandler.heartBeatManager)
┌─────┐
|  heartBeatManager (field private com.game.core.MessageSender com.game.model.heartbeat.HeartBeatManager.messageSender)
↑     ↓
|  messageSender (field private com.game.model.player.login.PlayerSessionManager com.game.core.MessageSender.playerSessionManager)
↑     ↓
|  playerSessionManager (field private com.game.model.heartbeat.HeartBeatManager com.game.model.player.login.PlayerSessionManager.heartBeatManager)
└─────┘


Action:

Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans. As a last resort, it may be possible to break the cycle automatically by setting spring.main.allow-circular-references to true.

2025-10-10 10:55:24.448 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameHandlerManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\core\GameHandlerManager.class]: Initialization of bean failed; nested exception is java.lang.RuntimeException: Failed to register GameMessageHandler
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
Caused by: java.lang.RuntimeException: Failed to register GameMessageHandler
	at com.game.core.GameHandlerManager.registerHandlers(GameHandlerManager.java:80)
	at com.game.core.GameHandlerManager.setApplicationContext(GameHandlerManager.java:41)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:128)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	... 15 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatHandler': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageSender': Unsatisfied dependency expressed through field 'playerSessionManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'heartBeatManager': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansWithAnnotation(DefaultListableBeanFactory.java:722)
	at org.springframework.context.support.AbstractApplicationContext.getBeansWithAnnotation(AbstractApplicationContext.java:1336)
	at com.game.core.GameHandlerManager.registerHandlers(GameHandlerManager.java:50)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'heartBeatManager': Unsatisfied dependency expressed through field 'messageSender'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageSender': Unsatisfied dependency expressed through field 'playerSessionManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'heartBeatManager': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageSender': Unsatisfied dependency expressed through field 'playerSessionManager'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'heartBeatManager': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 48 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerSessionManager': Unsatisfied dependency expressed through field 'heartBeatManager'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'heartBeatManager': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 62 common frames omitted
Caused by: org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'heartBeatManager': Requested bean is currently in creation: Is there an unresolvable circular reference?
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.beforeSingletonCreation(DefaultSingletonBeanRegistry.java:355)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 76 common frames omitted
2025-10-10 10:55:24.449 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 10:55:24.449 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 10:57:15.637 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 8916 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 10:57:15.638 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 10:57:15.638 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 10:57:16.473 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 10:57:16.480 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 10:57:16.481 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 10:57:16.603 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 10:57:16.604 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 927 ms
2025-10-10 10:57:16.851 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 10:57:16.852 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 10:57:16.852 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 10:57:16.860 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 10:57:16.875 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 10:57:17.074 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 10:57:17.085 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 10:57:17.124 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 10:57:17.152 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 10:57:17.160 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 10:57:17.160 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 300ms, size: 0
2025-10-10 10:57:17.160 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 10:57:17.161 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 10:57:17.161 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 10:57:17.161 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 10:57:17.161 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 10:57:17.162 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 10:57:17.190 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 10:57:17.192 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 10:57:17.194 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 10:57:17.194 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@72557746, 2002=com.game.proto.GameProto$LogoutRequest$1@8c12524, 1000=com.game.proto.GameProto$HeartbeatMessage$1@f723cdb}
2025-10-10 10:57:17.194 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 10:57:17.290 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 10:57:17.383 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 10:57:17.731 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 10:57:17.759 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 10:57:17.767 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 10:57:17.782 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.458 seconds (JVM running for 2.87)
2025-10-10 10:57:17.788 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 10:57:18.186 [RMI TCP Connection(1)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 10:57:18.186 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 10:57:18.187 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-10 11:01:36.846 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 11:01:36.846 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 11:01:36.846 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 11:01:36.846 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 11:01:36.846 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 11:01:36.846 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 11:01:36.847 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 11:01:36.849 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 11:01:36.877 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 11:01:36.962 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 11:01:36.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 11:01:36.964 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 11:01:36.968 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 11:01:41.376 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 11336 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 11:01:41.376 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 11:01:41.377 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 11:01:42.218 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 11:01:42.226 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 11:01:42.227 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 11:01:42.350 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 11:01:42.350 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 933 ms
2025-10-10 11:01:42.598 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 11:01:42.599 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 11:01:42.599 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 11:01:42.608 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 11:01:42.622 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 11:01:42.827 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 11:01:42.837 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 11:01:42.874 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 11:01:42.901 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 11:01:42.909 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 11:01:42.909 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 301ms, size: 0
2025-10-10 11:01:42.909 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 11:01:42.910 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 11:01:42.910 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 11:01:42.911 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 11:01:42.937 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 11:01:42.939 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 11:01:42.942 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 11:01:42.942 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@2e56b4d, 2002=com.game.proto.GameProto$LogoutRequest$1@3f857e08, 1000=com.game.proto.GameProto$HeartbeatMessage$1@6070775e}
2025-10-10 11:01:42.942 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 11:01:43.036 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 11:01:43.133 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 11:01:43.483 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 11:01:43.512 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 11:01:43.519 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 11:01:43.534 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.47 seconds (JVM running for 2.894)
2025-10-10 11:01:43.539 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 11:01:43.963 [RMI TCP Connection(5)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 11:01:43.963 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 11:01:43.965 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-10 11:03:58.820 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel active: /127.0.0.1:54261
2025-10-10 11:03:58.820 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:54261
2025-10-10 11:04:08.024 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=2000, sequence=1, size=41
2025-10-10 11:04:08.025 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=2000, sequence=1
2025-10-10 11:04:08.034 [nioEventLoopGroup-3-1] INFO  c.game.model.user.UserModuleHandler - Login request from /127.0.0.1:54261: username=admin
2025-10-10 11:04:08.034 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Processing login request for username: admin
2025-10-10 11:04:08.037 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==>  Preparing: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum, create_time, update_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-10 11:04:08.040 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==> Parameters: admin(String), null, null, null, null, null, 1760065448035(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null
2025-10-10 11:04:08.178 [nioEventLoopGroup-3-1] ERROR com.game.cache.PlayerCache - Failed to insert entity: Player{id=1760065448036, userid='admin', macaddr='null', channel='null', serverindex=null, language='null', createtime=null, logintime=1760065448035, logouttime=null, gm=null, platform='null', devicetype='null', networktype='null', sourceid='null', totalcharge=null, totalprice=null, paygroupids='null', paylimit='null', firstbuy=null, secondbuy=null, thirdbuy=null, buytime=null, pushset='null', deviceversion='null', state='null', createnum=null}
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
### The error may exist in com/game/dao/mapper/PlayerDao.java (best guess)
### The error may involve com.game.dao.mapper.PlayerDao.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum, create_time, update_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy82.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.dao.mapper.PlayerDao.insert(PlayerDao.java:17)
	at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)
	at org.apache.ibatis.binding.MapperProxy$DefaultMethodInvoker.invoke(MapperProxy.java:155)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.cache.BaseCache.insert(BaseCache.java:75)
	at com.game.model.player.login.PlayerLoginManager.handleLogin(UserManager.java:50)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:31)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:16)
	at com.game.core.GameMessageHandler.handleRawMessage(GameMessageHandler.java:54)
	at com.game.core.GameHandlerManager.handle(GameHandlerManager.java:102)
	at com.game.model.MessageDispatcher.dispatch(MessageDispatcher.java:29)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:44)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:18)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at com.sun.proxy.$Proxy90.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 50 common frames omitted
2025-10-10 11:04:08.178 [nioEventLoopGroup-3-1] ERROR com.game.core.GameHandlerManager - Error handling message: msgId=2000, sequence=1
org.springframework.jdbc.BadSqlGrammarException: 
### Error updating database.  Cause: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
### The error may exist in com/game/dao/mapper/PlayerDao.java (best guess)
### The error may involve com.game.dao.mapper.PlayerDao.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum, create_time, update_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:236)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy82.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.dao.mapper.PlayerDao.insert(PlayerDao.java:17)
	at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)
	at org.apache.ibatis.binding.MapperProxy$DefaultMethodInvoker.invoke(MapperProxy.java:155)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.cache.BaseCache.insert(BaseCache.java:75)
	at com.game.model.player.login.PlayerLoginManager.handleLogin(UserManager.java:50)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:31)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:16)
	at com.game.core.GameMessageHandler.handleRawMessage(GameMessageHandler.java:54)
	at com.game.core.GameHandlerManager.handle(GameHandlerManager.java:102)
	at com.game.model.MessageDispatcher.dispatch(MessageDispatcher.java:29)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:44)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:18)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'create_time' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at com.sun.proxy.$Proxy90.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 50 common frames omitted
2025-10-10 11:04:08.191 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1002, sequence=1, totalSize=36
2025-10-10 11:05:08.206 [nioEventLoopGroup-3-1] WARN  c.g.netty.handler.GameMessageHandler - Client read idle, closing connection: /127.0.0.1:54261
2025-10-10 11:05:08.208 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel inactive: /127.0.0.1:54261
2025-10-10 11:05:08.208 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:54261
2025-10-10 11:06:42.920 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:06:42.920 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:11:42.914 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:11:42.915 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:16:42.920 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:16:42.921 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:20:15.779 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 11:20:15.779 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 11:20:15.780 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 11:20:15.780 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 11:20:15.780 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 11:20:15.780 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 11:20:15.780 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 11:20:15.782 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 11:20:15.812 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 11:20:15.893 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 11:20:15.894 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 11:20:15.898 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 11:20:31.692 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 2012 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 11:20:31.693 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 11:20:31.693 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 11:20:32.540 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8081 (http)
2025-10-10 11:20:32.548 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-10-10 11:20:32.548 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-10-10 11:20:32.678 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-10-10 11:20:32.678 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 947 ms
2025-10-10 11:20:32.923 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 11:20:32.924 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 11:20:32.924 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 11:20:32.933 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 11:20:32.947 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 11:20:33.148 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 11:20:33.159 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 11:20:33.196 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 11:20:33.222 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 11:20:33.230 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 11:20:33.230 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 298ms, size: 0
2025-10-10 11:20:33.230 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 11:20:33.231 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 11:20:33.231 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 11:20:33.232 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 11:20:33.258 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 11:20:33.260 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 11:20:33.263 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 11:20:33.263 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@6e1ae763, 2002=com.game.proto.GameProto$LogoutRequest$1@62d40e31, 1000=com.game.proto.GameProto$HeartbeatMessage$1@650aa077}
2025-10-10 11:20:33.263 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 11:20:33.358 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 11:20:33.458 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 11:20:33.804 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 11:20:33.832 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''
2025-10-10 11:20:33.839 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 11:20:33.853 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.479 seconds (JVM running for 3.04)
2025-10-10 11:20:33.858 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 11:20:34.174 [RMI TCP Connection(1)-192.168.0.179] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 11:20:34.175 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 11:20:34.176 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-10 11:20:45.820 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel active: /127.0.0.1:54796
2025-10-10 11:20:45.821 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:54796
2025-10-10 11:20:50.845 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=2000, sequence=1, size=41
2025-10-10 11:20:50.846 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=2000, sequence=1
2025-10-10 11:20:50.855 [nioEventLoopGroup-3-1] INFO  c.game.model.user.UserModuleHandler - Login request from /127.0.0.1:54796: username=admin
2025-10-10 11:20:50.856 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Processing login request for username: admin
2025-10-10 11:20:50.858 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==>  Preparing: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-10 11:20:50.861 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==> Parameters: admin(String), null, null, null, null, null, 1760066450856(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null
2025-10-10 11:20:50.964 [nioEventLoopGroup-3-1] ERROR com.game.cache.PlayerCache - Failed to insert entity: Player{id=1760066450857, userid='admin', macaddr='null', channel='null', serverindex=null, language='null', createtime=null, logintime=1760066450856, logouttime=null, gm=null, platform='null', devicetype='null', networktype='null', sourceid='null', totalcharge=null, totalprice=null, paygroupids='null', paylimit='null', firstbuy=null, secondbuy=null, thirdbuy=null, buytime=null, pushset='null', deviceversion='null', state='null', createnum=null}
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLException: Field 'playerid' doesn't have a default value
### The error may exist in com/game/dao/mapper/PlayerDao.java (best guess)
### The error may involve com.game.dao.mapper.PlayerDao.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLException: Field 'playerid' doesn't have a default value
; Field 'playerid' doesn't have a default value; nested exception is java.sql.SQLException: Field 'playerid' doesn't have a default value
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy82.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.dao.mapper.PlayerDao.insert(PlayerDao.java:17)
	at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)
	at org.apache.ibatis.binding.MapperProxy$DefaultMethodInvoker.invoke(MapperProxy.java:155)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.cache.BaseCache.insert(BaseCache.java:75)
	at com.game.model.player.login.PlayerLoginManager.handleLogin(UserManager.java:50)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:31)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:16)
	at com.game.core.GameMessageHandler.handleRawMessage(GameMessageHandler.java:54)
	at com.game.core.GameHandlerManager.handle(GameHandlerManager.java:102)
	at com.game.model.MessageDispatcher.dispatch(MessageDispatcher.java:29)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:44)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:18)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLException: Field 'playerid' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at com.sun.proxy.$Proxy90.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 50 common frames omitted
2025-10-10 11:20:50.965 [nioEventLoopGroup-3-1] ERROR com.game.core.GameHandlerManager - Error handling message: msgId=2000, sequence=1
org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLException: Field 'playerid' doesn't have a default value
### The error may exist in com/game/dao/mapper/PlayerDao.java (best guess)
### The error may involve com.game.dao.mapper.PlayerDao.insert-Inline
### The error occurred while setting parameters
### SQL: INSERT INTO player (userid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
### Cause: java.sql.SQLException: Field 'playerid' doesn't have a default value
; Field 'playerid' doesn't have a default value; nested exception is java.sql.SQLException: Field 'playerid' doesn't have a default value
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:248)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at com.sun.proxy.$Proxy82.insert(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.dao.mapper.PlayerDao.insert(PlayerDao.java:17)
	at java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)
	at org.apache.ibatis.binding.MapperProxy$DefaultMethodInvoker.invoke(MapperProxy.java:155)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at com.sun.proxy.$Proxy88.insert(Unknown Source)
	at com.game.cache.BaseCache.insert(BaseCache.java:75)
	at com.game.model.player.login.PlayerLoginManager.handleLogin(UserManager.java:50)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:31)
	at com.game.model.player.login.PlayerLoginHandler.handleMessage(UserModuleHandler.java:16)
	at com.game.core.GameMessageHandler.handleRawMessage(GameMessageHandler.java:54)
	at com.game.core.GameHandlerManager.handle(GameHandlerManager.java:102)
	at com.game.model.MessageDispatcher.dispatch(MessageDispatcher.java:29)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:44)
	at com.game.netty.handler.GameMessageHandler.channelRead0(GameMessageHandler.java:18)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.sql.SQLException: Field 'playerid' doesn't have a default value
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58)
	at com.sun.proxy.$Proxy90.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75)
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50)
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117)
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 50 common frames omitted
2025-10-10 11:20:50.977 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1002, sequence=1, totalSize=36
2025-10-10 11:21:50.984 [nioEventLoopGroup-3-1] WARN  c.g.netty.handler.GameMessageHandler - Client read idle, closing connection: /127.0.0.1:54796
2025-10-10 11:21:50.985 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel inactive: /127.0.0.1:54796
2025-10-10 11:21:50.985 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:54796
2025-10-10 11:25:33.245 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:25:33.245 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:30:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:30:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:35:33.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:35:33.235 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:40:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:40:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:45:33.238 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:45:33.238 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:50:33.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:50:33.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 11:55:33.232 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 11:55:33.232 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:00:33.240 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:00:33.240 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:05:33.239 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:05:33.240 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:10:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:10:33.237 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:15:33.238 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:15:33.239 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:20:33.244 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:20:33.245 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:25:33.244 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:25:33.245 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:30:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:30:33.243 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:35:33.238 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:35:33.239 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:40:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:40:33.238 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:45:33.232 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:45:33.232 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:50:33.232 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:50:33.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 12:55:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 12:55:33.242 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 13:00:33.241 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 13:00:33.241 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 13:05:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 13:05:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 13:10:33.237 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 13:10:33.239 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 13:15:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting cache cleanup
2025-10-10 13:15:33.236 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache cleanup completed
2025-10-10 13:20:27.789 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 13:20:27.944 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 13:20:27.956 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 13:20:27.956 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 13:20:27.959 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 13:20:27.960 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 13:20:27.960 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 13:20:28.285 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 13:20:28.711 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 13:20:28.773 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 13:20:28.776 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 13:20:28.779 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 13:20:28.780 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 13:20:28.780 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 13:20:28.780 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 13:20:28.780 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 13:20:28.800 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 13:20:28.890 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 13:59:24.570 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 2636 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 13:59:24.571 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 13:59:24.571 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 13:59:25.391 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-10 13:59:25.411 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-10 13:59:25.411 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 803 ms
2025-10-10 13:59:25.683 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 13:59:25.684 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 13:59:25.684 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 13:59:25.693 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 13:59:25.709 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 13:59:25.897 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 13:59:25.906 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 13:59:25.942 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 13:59:25.970 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 13:59:25.979 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 13:59:25.979 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 286ms, size: 0
2025-10-10 13:59:25.979 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 13:59:25.979 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 13:59:25.979 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 13:59:25.980 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 13:59:25.981 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0]
2025-10-10 13:59:25.981 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 13:59:26.008 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 13:59:26.010 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 13:59:26.012 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 13:59:26.013 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@2ce03e86, 2002=com.game.proto.GameProto$LogoutRequest$1@1c628f6a, 1000=com.game.proto.GameProto$HeartbeatMessage$1@9b47400}
2025-10-10 13:59:26.013 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 13:59:26.106 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 13:59:26.202 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 13:59:26.553 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 13:59:26.578 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-10 13:59:26.588 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-10 13:59:26.594 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-10 13:59:26.626 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-10 13:59:26.672 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-10 13:59:26.680 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 13:59:26.695 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.459 seconds (JVM running for 3.04)
2025-10-10 13:59:26.697 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 13:59:27.080 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 13:59:27.080 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 13:59:27.082 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-10 13:59:34.661 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel active: /127.0.0.1:59766
2025-10-10 13:59:34.661 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:59766
2025-10-10 13:59:47.306 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=2000, sequence=1, size=41
2025-10-10 13:59:47.307 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=2000, sequence=1
2025-10-10 13:59:47.316 [nioEventLoopGroup-3-1] INFO  c.game.model.user.UserModuleHandler - Login request from /127.0.0.1:59766: username=admin
2025-10-10 13:59:47.317 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Processing login request for username: admin
2025-10-10 13:59:47.319 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==>  Preparing: INSERT INTO player (userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-10 13:59:47.321 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - ==> Parameters: admin(String), 1760075987318(Long), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null
2025-10-10 13:59:47.358 [nioEventLoopGroup-3-1] DEBUG com.game.dao.mapper.PlayerDao.insert - <==    Updates: 1
2025-10-10 13:59:47.359 [nioEventLoopGroup-3-1] DEBUG com.game.cache.PlayerCache - Inserted entity: Player{userid='admin', playerid=1760075987318, macaddr='null', channel='null', serverindex=null, language='null', createtime=null, logintime=1760075987317, logouttime=null, gm=null, platform='null', devicetype='null', networktype='null', sourceid='null', totalcharge=null, totalprice=null, paygroupids='null', paylimit='null', firstbuy=null, secondbuy=null, thirdbuy=null, buytime=null, pushset='null', deviceversion='null', state='null', createnum=null}
2025-10-10 13:59:47.359 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat registered: playerId=1760075987318
2025-10-10 13:59:47.375 [nioEventLoopGroup-3-1] DEBUG c.g.model.user.PlayerSessionManager - Bound player session: playerId=1760075987318, remoteAddress=/127.0.0.1:59766
2025-10-10 13:59:47.375 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Login processed successfully for user: admin
2025-10-10 13:59:47.381 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2001, sequence=0, totalSize=79
2025-10-10 13:59:47.382 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2101, sequence=0, totalSize=79
2025-10-10 13:59:47.477 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=2, size=31
2025-10-10 13:59:47.478 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=2
2025-10-10 13:59:47.481 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:59766: Client heartbeat
2025-10-10 13:59:47.481 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 13:59:47.481 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 13:59:47.481 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=2, totalSize=23
2025-10-10 13:59:56.701 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=3, size=31
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=3
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:59766: Client heartbeat
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 13:59:57.490 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=3, totalSize=23
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=4, size=31
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=4
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:59766: Client heartbeat
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 14:00:07.503 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=4, totalSize=23
2025-10-10 14:00:17.503 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=5, size=31
2025-10-10 14:00:17.503 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=5
2025-10-10 14:00:17.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:59766: Client heartbeat
2025-10-10 14:00:17.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 14:00:17.503 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 14:00:17.504 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=5, totalSize=23
2025-10-10 14:00:25.172 [nioEventLoopGroup-3-1] WARN  com.game.model.player.PlayerSessionHandler - Exception in channel: /127.0.0.1:59766, cause: 远程主机强迫关闭了一个现有的连接。
2025-10-10 14:00:25.175 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel inactive: /127.0.0.1:59766
2025-10-10 14:00:25.175 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:59766
2025-10-10 14:00:25.993 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:00:25.994 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:00:26.031 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:00:26.696 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 14:00:56.695 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 14:01:25.983 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:01:25.984 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:01:26.017 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:01:26.707 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 14:01:56.692 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 14:01:56.692 [pool-3-thread-1] WARN  c.g.model.heartbeat.HeartBeatManager - Player heartbeat timeout, disconnecting player: playerId=1760075987318
2025-10-10 14:01:56.693 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat unregistered: playerId=1760075987318
2025-10-10 14:02:25.998 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:02:26.000 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:02:26.104 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:02:26.698 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 1 players
2025-10-10 14:02:26.698 [pool-3-thread-1] WARN  c.g.model.heartbeat.HeartBeatManager - Player heartbeat timeout, disconnecting player: playerId=1
2025-10-10 14:02:26.698 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat unregistered: playerId=1
2025-10-10 14:03:25.995 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:03:25.995 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:03:26.048 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:03:41.857 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 14:03:41.858 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 14:03:41.859 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 14:03:41.858 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 14:03:41.860 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:03:41.860 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 14:03:41.861 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:03:41.866 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-10 14:03:41.886 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-10 14:03:41.887 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 14:03:41.915 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:03:41.915 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 14:03:41.916 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 14:03:41.916 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 14:03:41.963 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 14:03:41.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 14:03:41.963 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 14:03:41.966 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 14:03:41.966 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 14:03:41.966 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760075987317(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760075987318(Long)
2025-10-10 14:03:42.007 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 14:03:42.008 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 14:03:42.008 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 14:03:42.008 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 14:03:42.009 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 14:03:42.014 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 14:59:54.730 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 15976 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 14:59:54.731 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 14:59:54.731 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 14:59:55.582 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-10 14:59:55.603 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-10 14:59:55.603 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 835 ms
2025-10-10 14:59:55.868 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 14:59:55.869 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 14:59:55.869 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 14:59:55.877 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 14:59:55.891 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 14:59:56.098 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 14:59:56.108 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 14:59:56.146 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 14:59:56.175 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 14:59:56.182 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 14:59:56.183 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 305ms, size: 0
2025-10-10 14:59:56.183 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 14:59:56.183 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 14:59:56.183 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0, toDelete=0]
2025-10-10 14:59:56.184 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 14:59:56.210 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 14:59:56.212 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 14:59:56.215 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 14:59:56.215 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@7bee8621, 2002=com.game.proto.GameProto$LogoutRequest$1@4e0cc334, 1000=com.game.proto.GameProto$HeartbeatMessage$1@1e12a5a6}
2025-10-10 14:59:56.215 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 14:59:56.313 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 14:59:56.407 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 14:59:56.758 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 14:59:56.785 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-10 14:59:56.796 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-10 14:59:56.802 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-10 14:59:56.833 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-10 14:59:56.877 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-10 14:59:56.884 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 14:59:56.897 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.484 seconds (JVM running for 3.054)
2025-10-10 14:59:56.899 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 14:59:57.221 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 14:59:57.221 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 14:59:57.223 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-10 15:00:08.148 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel active: /127.0.0.1:61125
2025-10-10 15:00:08.148 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:61125
2025-10-10 15:00:27.990 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=2000, sequence=1, size=41
2025-10-10 15:00:27.991 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=2000, sequence=1
2025-10-10 15:00:28.001 [nioEventLoopGroup-3-1] INFO  c.game.model.user.UserModuleHandler - Login request from /127.0.0.1:61125: username=admin
2025-10-10 15:00:28.001 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Processing login request for username: admin
2025-10-10 15:00:28.001 [nioEventLoopGroup-3-1] DEBUG com.game.cache.PlayerCache - Inserted entity to cache: Player{userid='admin', playerid=1760079628002, macaddr='null', channel='null', serverindex=null, language='null', createtime=null, logintime=1760079628001, logouttime=null, gm=null, platform='null', devicetype='null', networktype='null', sourceid='null', totalcharge=null, totalprice=null, paygroupids='null', paylimit='null', firstbuy=null, secondbuy=null, thirdbuy=null, buytime=null, pushset='null', deviceversion='null', state='null', createnum=null}
2025-10-10 15:00:28.001 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat registered: playerId=1760079628002
2025-10-10 15:00:28.014 [nioEventLoopGroup-3-1] DEBUG c.g.model.user.PlayerSessionManager - Bound player session: playerId=1760079628002, remoteAddress=/127.0.0.1:61125
2025-10-10 15:00:28.015 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Login processed successfully for user: admin
2025-10-10 15:00:28.021 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2001, sequence=0, totalSize=79
2025-10-10 15:00:28.022 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2101, sequence=0, totalSize=79
2025-10-10 15:00:28.109 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=2, size=31
2025-10-10 15:00:28.109 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=2
2025-10-10 15:00:28.111 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:00:28.111 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:00:28.112 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:00:28.112 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=2, totalSize=23
2025-10-10 15:00:38.110 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=3, size=31
2025-10-10 15:00:38.111 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=3
2025-10-10 15:00:38.111 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:00:38.111 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:00:38.111 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:00:38.111 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=3, totalSize=23
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=4, size=31
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=4
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:00:48.113 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=4, totalSize=23
2025-10-10 15:00:56.197 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:00:56.198 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:00:56.198 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, delete size: 0
2025-10-10 15:00:56.201 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:00:56.205 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:00:56.261 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:00:56.261 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:00:56.899 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:00:58.118 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=5, size=31
2025-10-10 15:00:58.119 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=5
2025-10-10 15:00:58.119 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:00:58.119 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:00:58.119 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:00:58.119 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=5, totalSize=23
2025-10-10 15:01:08.131 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=6, size=31
2025-10-10 15:01:08.131 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=6
2025-10-10 15:01:08.131 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:08.131 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:08.132 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:08.132 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=6, totalSize=23
2025-10-10 15:01:18.143 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=7, size=31
2025-10-10 15:01:18.143 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=7
2025-10-10 15:01:18.143 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:18.144 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:18.144 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:18.144 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=7, totalSize=23
2025-10-10 15:01:26.899 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=8, size=31
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=8
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:28.148 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=8, totalSize=23
2025-10-10 15:01:38.157 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=9, size=31
2025-10-10 15:01:38.157 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=9
2025-10-10 15:01:38.158 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:38.158 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:38.158 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:38.158 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=9, totalSize=23
2025-10-10 15:01:48.158 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=10, size=31
2025-10-10 15:01:48.159 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=10
2025-10-10 15:01:48.159 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:48.159 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:48.159 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:48.159 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=10, totalSize=23
2025-10-10 15:01:56.196 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:01:56.196 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:01:56.197 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, delete size: 0
2025-10-10 15:01:56.198 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:01:56.198 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:01:56.251 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:01:56.252 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:01:56.907 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:01:58.171 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=11, size=31
2025-10-10 15:01:58.171 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=11
2025-10-10 15:01:58.171 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:01:58.171 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:01:58.172 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:01:58.172 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=11, totalSize=23
2025-10-10 15:02:08.175 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=12, size=31
2025-10-10 15:02:08.176 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=12
2025-10-10 15:02:08.176 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:02:08.176 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:02:08.176 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:02:08.176 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=12, totalSize=23
2025-10-10 15:02:18.182 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=13, size=31
2025-10-10 15:02:18.182 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=13
2025-10-10 15:02:18.182 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:02:18.183 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:02:18.183 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:02:18.183 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=13, totalSize=23
2025-10-10 15:02:26.903 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:02:28.185 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=14, size=31
2025-10-10 15:02:28.187 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=14
2025-10-10 15:02:28.187 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:02:28.187 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:02:28.188 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:02:28.188 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=14, totalSize=23
2025-10-10 15:02:38.195 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=15, size=31
2025-10-10 15:02:38.195 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=15
2025-10-10 15:02:38.195 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:02:38.195 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:02:38.195 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:02:38.196 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=15, totalSize=23
2025-10-10 15:02:48.205 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=16, size=31
2025-10-10 15:02:48.205 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=16
2025-10-10 15:02:48.205 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61125: Client heartbeat
2025-10-10 15:02:48.205 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:02:48.205 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:02:48.206 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=16, totalSize=23
2025-10-10 15:02:56.188 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:02:56.188 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:02:56.188 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, delete size: 0
2025-10-10 15:02:56.189 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:02:56.190 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:02:56.243 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:02:56.243 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:02:56.900 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:02:56.901 [pool-3-thread-1] WARN  c.g.model.heartbeat.HeartBeatManager - Player heartbeat timeout, disconnecting player: playerId=1760079628002
2025-10-10 15:02:56.903 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat unregistered: playerId=1760079628002
2025-10-10 15:02:56.905 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel inactive: /127.0.0.1:61125
2025-10-10 15:02:56.905 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:61125
2025-10-10 15:03:26.895 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 1 players
2025-10-10 15:03:56.193 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:03:56.193 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:03:56.193 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, delete size: 0
2025-10-10 15:03:56.194 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:03:56.194 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:03:56.252 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:03:56.252 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:03:56.902 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 1 players
2025-10-10 15:04:25.615 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 15:04:25.615 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 15:04:25.615 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 15:04:25.616 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 15:04:25.616 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-10 15:04:25.616 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 15:04:25.617 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:04:25.617 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:04:25.619 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-10 15:04:25.626 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-10 15:04:25.627 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 15:04:25.677 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:04:25.677 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:04:25.677 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 15:04:25.677 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 15:04:25.677 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 15:04:25.720 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 15:04:25.720 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 15:04:25.720 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 15:04:25.720 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 15:04:25.720 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-10 15:04:25.721 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:04:25.721 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760079628001(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760079628002(Long)
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 0
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 15:04:25.760 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 15:04:25.764 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-10 15:10:46.755 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 15268 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-10 15:10:46.756 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-10 15:10:46.756 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-10 15:10:47.587 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-10 15:10:47.607 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-10 15:10:47.607 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 811 ms
2025-10-10 15:10:47.874 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-10 15:10:47.875 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-10 15:10:47.875 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-10 15:10:47.884 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-10 15:10:47.900 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-10 15:10:48.105 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-10 15:10:48.115 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-10 15:10:48.151 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-10 15:10:48.178 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 0
2025-10-10 15:10:48.187 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 0 entities from database
2025-10-10 15:10:48.187 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 303ms, size: 0
2025-10-10 15:10:48.187 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-10 15:10:48.187 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-10 15:10:48.187 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-10 15:10:48.188 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-10 15:10:48.189 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=0, toInsert=0, toUpdate=0, toDelete=0]
2025-10-10 15:10:48.189 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-10 15:10:48.215 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-10 15:10:48.217 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-10 15:10:48.219 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-10 15:10:48.219 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@2dafae61, 2002=com.game.proto.GameProto$LogoutRequest$1@7a2fce12, 1000=com.game.proto.GameProto$HeartbeatMessage$1@66e17eff}
2025-10-10 15:10:48.219 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-10 15:10:48.317 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-10 15:10:48.412 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-10 15:10:48.759 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-10 15:10:48.786 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-10 15:10:48.797 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-10 15:10:48.803 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-10 15:10:48.834 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-10 15:10:48.878 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-10 15:10:48.885 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-10 15:10:48.901 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.458 seconds (JVM running for 2.911)
2025-10-10 15:10:48.903 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-10 15:10:49.368 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-10 15:10:49.368 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-10 15:10:49.370 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-10 15:11:02.923 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel active: /127.0.0.1:61511
2025-10-10 15:11:02.923 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client connected: /127.0.0.1:61511
2025-10-10 15:11:10.093 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=2000, sequence=1, size=41
2025-10-10 15:11:10.094 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=2000, sequence=1
2025-10-10 15:11:10.104 [nioEventLoopGroup-3-1] INFO  c.game.model.user.UserModuleHandler - Login request from /127.0.0.1:61511: username=admin
2025-10-10 15:11:10.104 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Processing login request for username: admin
2025-10-10 15:11:10.104 [nioEventLoopGroup-3-1] DEBUG com.game.cache.PlayerCache - Inserted entity to cache: Player{userid='admin', playerid=1760080270105, macaddr='null', channel='null', serverindex=null, language='null', createtime=null, logintime=1760080270104, logouttime=null, gm=null, platform='null', devicetype='null', networktype='null', sourceid='null', totalcharge=null, totalprice=null, paygroupids='null', paylimit='null', firstbuy=null, secondbuy=null, thirdbuy=null, buytime=null, pushset='null', deviceversion='null', state='null', createnum=null}
2025-10-10 15:11:10.105 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Player heartbeat registered: playerId=1760080270105
2025-10-10 15:11:10.118 [nioEventLoopGroup-3-1] DEBUG c.g.model.user.PlayerSessionManager - Bound player session: playerId=1760080270105, remoteAddress=/127.0.0.1:61511
2025-10-10 15:11:10.118 [nioEventLoopGroup-3-1] INFO  com.game.model.player.login.PlayerLoginManager - Login processed successfully for user: admin
2025-10-10 15:11:10.124 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2001, sequence=0, totalSize=79
2025-10-10 15:11:10.125 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=2101, sequence=0, totalSize=79
2025-10-10 15:11:10.211 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=2, size=31
2025-10-10 15:11:10.211 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=2
2025-10-10 15:11:10.214 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:11:10.214 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:11:10.214 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:11:10.214 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=2, totalSize=23
2025-10-10 15:11:18.903 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:11:20.225 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=3, size=31
2025-10-10 15:11:20.225 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=3
2025-10-10 15:11:20.225 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:11:20.225 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:11:20.225 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:11:20.226 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=3, totalSize=23
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=4, size=31
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=4
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:11:30.234 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=4, totalSize=23
2025-10-10 15:11:40.243 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=5, size=31
2025-10-10 15:11:40.243 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=5
2025-10-10 15:11:40.244 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:11:40.244 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:11:40.244 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:11:40.244 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=5, totalSize=23
2025-10-10 15:11:48.189 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:11:48.190 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:11:48.190 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 1, update size: 0, delete size: 0
2025-10-10 15:11:48.197 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.insert - ==>  Preparing: INSERT INTO player (userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-10-10 15:11:48.201 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.insert - ==> Parameters: admin(String), 1760080270105(Long), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null
2025-10-10 15:11:48.256 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.dao.mapper.PlayerDao.insert - <==    Updates: 1
2025-10-10 15:11:48.258 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=1, updates=0, deletes=0, errors=0
2025-10-10 15:11:48.898 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:11:50.253 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=6, size=31
2025-10-10 15:11:50.254 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=6
2025-10-10 15:11:50.254 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:11:50.254 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:11:50.254 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:11:50.255 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=6, totalSize=23
2025-10-10 15:12:00.258 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=7, size=31
2025-10-10 15:12:00.259 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=7
2025-10-10 15:12:00.259 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:00.259 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:00.260 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:00.260 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=7, totalSize=23
2025-10-10 15:12:10.271 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=8, size=31
2025-10-10 15:12:10.271 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=8
2025-10-10 15:12:10.272 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:10.272 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:10.272 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:10.272 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=8, totalSize=23
2025-10-10 15:12:18.913 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:12:20.286 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=9, size=31
2025-10-10 15:12:20.286 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=9
2025-10-10 15:12:20.286 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:20.286 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:20.286 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:20.287 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=9, totalSize=23
2025-10-10 15:12:30.286 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=10, size=31
2025-10-10 15:12:30.286 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=10
2025-10-10 15:12:30.287 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:30.287 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:30.287 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:30.287 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=10, totalSize=23
2025-10-10 15:12:40.296 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=11, size=31
2025-10-10 15:12:40.296 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=11
2025-10-10 15:12:40.296 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:40.296 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:40.296 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:40.297 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=11, totalSize=23
2025-10-10 15:12:48.192 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-10 15:12:48.193 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-10 15:12:48.193 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-10 15:12:48.194 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-10 15:12:48.900 [pool-3-thread-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Checking heartbeat timeouts for 2 players
2025-10-10 15:12:50.307 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=12, size=31
2025-10-10 15:12:50.307 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=12
2025-10-10 15:12:50.308 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:12:50.308 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:12:50.308 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:12:50.308 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=12, totalSize=23
2025-10-10 15:13:00.308 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufDecoder - Decoded message: msgId=1000, sequence=13, size=31
2025-10-10 15:13:00.309 [nioEventLoopGroup-3-1] DEBUG c.g.netty.handler.GameMessageHandler - Received message: msgId=1000, sequence=13
2025-10-10 15:13:00.309 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatHandler - Heartbeat from /127.0.0.1:61511: Client heartbeat
2025-10-10 15:13:00.309 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Processing heartbeat request from player 1: Client heartbeat
2025-10-10 15:13:00.309 [nioEventLoopGroup-3-1] DEBUG c.g.model.heartbeat.HeartBeatManager - Heartbeat response created for player 1: pong
2025-10-10 15:13:00.309 [nioEventLoopGroup-3-1] DEBUG c.g.netty.codec.GameProtobufEncoder - Encoded message: msgId=1001, sequence=13, totalSize=23
2025-10-10 15:13:06.574 [nioEventLoopGroup-3-1] WARN  com.game.model.player.PlayerSessionHandler - Exception in channel: /127.0.0.1:61511, cause: 远程主机强迫关闭了一个现有的连接。
2025-10-10 15:13:06.577 [nioEventLoopGroup-3-1] DEBUG com.game.model.player.PlayerSessionHandler - Channel inactive: /127.0.0.1:61511
2025-10-10 15:13:06.577 [nioEventLoopGroup-3-1] INFO  c.g.netty.handler.GameMessageHandler - Client disconnected: /127.0.0.1:61511
2025-10-10 15:13:07.673 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-10 15:13:07.673 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 15:13:07.674 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 15:13:07.674 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 15:13:07.674 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-10 15:13:07.676 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 15:13:07.676 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:13:07.676 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-10 15:13:07.678 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-10 15:13:07.685 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-10 15:13:07.686 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-10 15:13:07.778 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-10 15:13:07.778 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-10 15:13:07.778 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-10 15:13:07.778 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-10 15:13:07.778 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-10 15:13:07.779 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-10 15:13:07.779 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-10 15:13:12.734 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 15:13:12.734 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:13:12.735 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 15:13:12.735 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 15:13:12.735 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-10 15:13:13.035 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-10 15:13:13.035 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-10 15:13:13.035 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-10 15:13:13.035 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-10 15:13:13.035 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-10 15:13:13.036 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-10 15:13:13.040 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:12:47.837 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 3636 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:12:47.837 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:12:47.838 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:12:48.818 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:12:48.844 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:12:48.844 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 965 ms
2025-10-11 16:12:49.140 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:12:49.141 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:12:49.141 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:12:49.150 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:12:49.165 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:12:49.392 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:12:49.403 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:12:49.441 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:12:49.472 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:12:49.472 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:12:49.475 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:12:49.485 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:12:49.485 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 335ms, size: 1
2025-10-11 16:12:49.485 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:12:49.485 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:12:49.485 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:12:49.486 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:12:49.486 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:12:49.486 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:12:49.487 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:12:49.487 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:12:49.487 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:12:49.487 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:12:49.487 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:12:49.492 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:12:49.492 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:12:50.170 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:12:50.170 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:12:50.301 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:12:50.301 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:12:50.332 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:12:50.335 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:12:50.337 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:12:50.337 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@4e50ae56, 2002=com.game.proto.GameProto$LogoutRequest$1@1c68d0db, 1000=com.game.proto.GameProto$HeartbeatMessage$1@9be7319}
2025-10-11 16:12:50.338 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:12:50.462 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:12:50.570 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:12:50.978 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:12:51.008 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:12:51.022 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:12:51.030 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:12:51.069 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:12:51.122 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:12:51.129 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:12:51.147 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.688 seconds (JVM running for 4.325)
2025-10-11 16:12:51.150 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:12:51.150 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:12:51.150 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:12:51.198 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:12:51.198 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:12:51.198 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:12:51.239 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:12:51.239 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:12:51.241 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:12:51.354 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:12:51.355 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:12:51.359 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-11 16:13:49.495 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:13:49.496 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:13:49.497 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:13:49.497 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:14:12.528 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:12.528 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:14:12.528 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:12.528 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:12.528 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:12.530 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:12.532 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:12.532 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:14:12.535 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:12.540 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:14:12.541 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:12.604 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:12.604 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:12.604 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:12.604 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:12.604 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:14:12.633 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:12.634 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:12.679 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:12.679 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:12.679 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:12.679 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:12.679 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:14:12.680 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:14:12.686 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:14:16.451 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 16304 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:14:16.452 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:14:16.453 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:14:17.291 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:14:17.312 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:14:17.312 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 823 ms
2025-10-11 16:14:17.575 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:14:17.576 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:14:17.576 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:14:17.584 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:14:17.599 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:14:17.814 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:14:17.824 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:14:17.860 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:14:17.887 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:14:17.887 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:14:17.889 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:14:17.898 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:14:17.898 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 314ms, size: 1
2025-10-11 16:14:17.898 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:14:17.898 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:14:17.898 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:14:17.899 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:14:17.900 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:14:17.900 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:17.903 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:14:17.903 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:18.532 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:18.532 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:18.662 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:18.662 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: ~$AdditionConfig.xlsx
2025-10-11 16:14:18.666 [main] ERROR com.game.config.ExcelConfigManager - Failed to load config data from file: ~$AdditionConfig.xlsx
java.io.FileNotFoundException: game-server\config\~$AdditionConfig.xlsx (另一个程序正在使用此文件，进程无法访问。)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.game.config.ExcelConfigManager.loadConfigDataFromFile(ExcelConfigManager.java:129)
	at com.game.config.ExcelConfigManager.loadAllConfigData(ExcelConfigManager.java:92)
	at com.game.config.ExcelConfigManager.init(ExcelConfigManager.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
2025-10-11 16:14:18.667 [main] INFO  com.game.config.ExcelConfigManager - Loaded 3 config files
2025-10-11 16:14:18.697 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:14:18.699 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:14:18.703 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:14:18.703 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@51d8f2f2, 2002=com.game.proto.GameProto$LogoutRequest$1@4b476233, 1000=com.game.proto.GameProto$HeartbeatMessage$1@72fb989b}
2025-10-11 16:14:18.703 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:14:18.836 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:14:18.946 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:14:19.336 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:14:19.365 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:14:19.378 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:14:19.385 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:14:19.421 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:14:19.469 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:14:19.477 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:14:19.493 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.358 seconds (JVM running for 3.788)
2025-10-11 16:14:19.495 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:14:19.495 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:14:19.495 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:19.531 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:19.531 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:14:19.531 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:19.581 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:19.581 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: ~$AdditionConfig.xlsx
2025-10-11 16:14:19.581 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: ~$AdditionConfig.xlsx
2025-10-11 16:14:19.582 [main] ERROR com.game.config.ExcelConfigManager - Failed to load config data from file: ~$AdditionConfig.xlsx
java.io.FileNotFoundException: game-server\config\~$AdditionConfig.xlsx (另一个程序正在使用此文件，进程无法访问。)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.game.config.ExcelConfigManager.loadConfigDataFromFile(ExcelConfigManager.java:129)
	at com.game.config.ExcelConfigManager.loadConfig(ExcelConfigManager.java:108)
	at com.game.init.ConfigInitializer.initializeConfigs(ConfigInitializer.java:54)
	at com.game.init.ConfigInitializer.run(ConfigInitializer.java:65)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.lambda$callRunners$2(SpringApplication.java:746)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:352)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:744)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
2025-10-11 16:14:19.582 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 3 个配置文件
2025-10-11 16:14:19.587 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:14:20.008 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:14:20.008 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:14:20.009 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:14:27.309 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:27.309 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:14:27.309 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:27.309 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:27.310 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:27.313 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:27.314 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:27.314 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:14:27.317 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:27.322 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:14:27.324 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:27.372 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:27.372 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:27.372 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:27.372 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:27.372 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:14:27.423 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:27.423 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:14:27.423 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:27.423 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:27.423 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:27.424 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:27.424 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:27.463 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:27.464 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:27.464 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:27.464 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:27.464 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:14:27.464 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:14:27.468 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:14:30.081 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17800 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:14:30.082 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:14:30.083 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:14:31.003 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:14:31.025 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:14:31.025 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 905 ms
2025-10-11 16:14:31.289 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:14:31.290 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:14:31.291 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:14:31.298 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:14:31.313 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:14:31.516 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:14:31.526 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:14:31.561 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:14:31.588 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:14:31.589 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:14:31.591 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:14:31.600 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:14:31.600 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 302ms, size: 1
2025-10-11 16:14:31.600 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:14:31.600 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:14:31.600 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:14:31.601 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:14:31.602 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:14:31.602 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:31.605 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:14:31.605 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:32.257 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:32.257 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:32.385 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:32.386 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:14:32.415 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:14:32.418 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:14:32.421 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:14:32.421 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@609b041c, 2002=com.game.proto.GameProto$LogoutRequest$1@474e34e4, 1000=com.game.proto.GameProto$HeartbeatMessage$1@7e2c6702}
2025-10-11 16:14:32.421 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:14:32.540 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:14:32.646 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:14:33.034 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:14:33.063 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:14:33.076 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:14:33.083 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:14:33.118 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:14:33.166 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:14:33.174 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:14:33.191 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.424 seconds (JVM running for 3.919)
2025-10-11 16:14:33.192 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:14:33.193 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:14:33.193 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:33.228 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:33.228 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:14:33.228 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:33.277 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:33.277 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:14:33.280 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:14:33.594 [RMI TCP Connection(1)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:14:33.594 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:14:33.596 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:14:51.631 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:51.631 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:14:51.632 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:51.632 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:51.632 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:51.635 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:51.637 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:14:51.638 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:51.642 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:51.648 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:14:51.649 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:14:51.698 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:51.698 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:51.698 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:51.698 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:51.698 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:14:51.737 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:14:51.737 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:14:51.737 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:14:51.737 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:14:51.737 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:14:51.738 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:14:51.738 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:14:51.781 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:14:51.781 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:14:51.781 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:14:51.781 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:14:51.781 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:14:51.782 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:14:51.786 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:14:55.615 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 5544 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:14:55.616 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:14:55.616 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:14:56.452 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:14:56.480 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:14:56.480 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 827 ms
2025-10-11 16:14:56.730 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:14:56.731 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:14:56.731 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:14:56.739 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:14:56.754 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:14:56.953 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:14:56.963 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:14:56.998 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:14:57.025 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:14:57.025 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:14:57.027 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:14:57.035 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:14:57.035 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 296ms, size: 1
2025-10-11 16:14:57.036 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:14:57.036 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:14:57.036 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:14:57.037 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:14:57.037 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:14:57.038 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:14:57.042 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:14:57.042 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:57.697 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:57.697 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:57.812 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:57.813 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:14:57.842 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:14:57.844 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:14:57.847 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:14:57.847 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@40dd552c, 2002=com.game.proto.GameProto$LogoutRequest$1@33f4c769, 1000=com.game.proto.GameProto$HeartbeatMessage$1@4ebd6fd6}
2025-10-11 16:14:57.847 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:14:57.961 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:14:58.069 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:14:58.454 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:14:58.482 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:14:58.495 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:14:58.502 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:14:58.539 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:14:58.599 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:14:58.606 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:14:58.623 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.318 seconds (JVM running for 3.756)
2025-10-11 16:14:58.625 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:14:58.625 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:14:58.625 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:14:58.660 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:14:58.661 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:14:58.661 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:14:58.701 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:14:58.701 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:14:58.704 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:14:59.161 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:14:59.162 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:14:59.163 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:15:57.048 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:15:57.049 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:15:57.049 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:15:57.049 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:16:57.039 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:16:57.040 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:16:57.041 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:16:57.041 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:17:23.921 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:17:23.921 [Thread-8] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:17:23.921 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:17:23.921 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:17:23.921 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:17:23.926 [Thread-8] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:17:23.928 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:17:23.928 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:17:23.931 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:17:23.937 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:17:23.939 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:17:23.989 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:17:23.990 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:17:23.990 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:17:23.990 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:17:23.990 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:17:24.028 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:17:24.028 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:17:24.028 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:17:24.028 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:17:24.028 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:17:24.029 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:17:24.029 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:17:24.073 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:17:24.073 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:17:24.073 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:17:24.073 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:17:24.074 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:17:24.075 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:17:24.079 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:17:26.222 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 1344 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:17:26.224 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:17:26.224 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:17:27.145 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:17:27.168 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:17:27.168 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 904 ms
2025-10-11 16:17:27.445 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:17:27.446 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:17:27.446 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:17:27.455 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:17:27.469 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:17:27.683 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:17:27.694 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:17:27.733 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:17:27.765 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:17:27.765 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:17:27.768 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:17:27.777 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:17:27.777 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 322ms, size: 1
2025-10-11 16:17:27.777 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:17:27.777 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:17:27.777 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:17:27.778 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:17:27.785 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:17:27.785 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:18:05.822 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:18:05.825 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:18:05.993 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:18:05.994 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:18:06.029 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:18:06.031 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:18:06.034 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:18:06.034 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@4357524b, 2002=com.game.proto.GameProto$LogoutRequest$1@104a287c, 1000=com.game.proto.GameProto$HeartbeatMessage$1@64dc86c6}
2025-10-11 16:18:06.034 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:18:06.162 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:18:06.277 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:18:06.744 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:18:06.779 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:18:06.795 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:18:06.805 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:18:06.870 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:18:06.936 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:18:06.945 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:18:06.967 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 41.081 seconds (JVM running for 41.538)
2025-10-11 16:18:06.969 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:18:06.969 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:18:06.969 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:18:07.007 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:18:07.008 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:18:07.008 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:18:07.058 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:18:07.058 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:18:07.061 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:18:07.518 [RMI TCP Connection(7)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:18:07.518 [RMI TCP Connection(7)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:18:07.519 [RMI TCP Connection(7)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:18:27.780 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:18:27.781 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:18:27.781 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:18:27.781 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:19:27.782 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:19:27.782 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:19:27.782 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:19:27.783 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:20:27.787 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:20:27.787 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:20:27.787 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:20:27.787 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:21:27.777 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:21:27.777 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:21:27.778 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:21:27.778 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:22:27.783 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:22:27.783 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:22:27.783 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:22:27.783 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:23:27.778 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:23:27.778 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:23:27.779 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:23:27.779 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:24:27.779 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:24:27.779 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:24:27.779 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:24:27.780 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:24:43.288 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:24:43.288 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:24:43.288 [Thread-10] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:24:43.288 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:24:43.290 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:24:43.294 [Thread-10] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:24:43.296 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:24:43.296 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:24:43.299 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:24:43.307 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:24:43.309 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:24:43.355 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:24:43.355 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:24:43.355 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:24:43.355 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:24:43.355 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:24:43.404 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:24:43.404 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:24:43.404 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:24:43.404 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:24:43.404 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:24:43.405 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:24:43.405 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:24:43.447 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:24:43.447 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:24:43.447 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:24:43.447 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:24:43.447 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:24:43.448 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:24:43.453 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:24:54.970 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 13392 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:24:54.971 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:24:54.972 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:24:55.896 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:24:55.928 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:24:55.928 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 912 ms
2025-10-11 16:24:56.200 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:24:56.201 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:24:56.201 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:24:56.210 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:24:56.226 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:24:56.454 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:24:56.465 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:24:56.502 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:24:56.530 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:24:56.531 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:24:56.533 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:24:56.542 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:24:56.542 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 332ms, size: 1
2025-10-11 16:24:56.542 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:24:56.542 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:24:56.542 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:24:56.543 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:24:56.544 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:24:56.544 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:24:56.550 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:24:56.550 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:25:42.925 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:25:42.926 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:25:43.026 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:25:43.026 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:25:43.059 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:25:43.062 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:25:43.065 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:25:43.065 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@42730828, 2002=com.game.proto.GameProto$LogoutRequest$1@18c7f6b5, 1000=com.game.proto.GameProto$HeartbeatMessage$1@629b780f}
2025-10-11 16:25:43.065 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:25:43.186 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:25:43.295 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:25:43.733 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:25:43.765 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:25:43.778 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:25:43.786 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:25:43.826 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:25:43.890 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:25:43.898 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:25:43.915 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 49.282 seconds (JVM running for 49.765)
2025-10-11 16:25:43.918 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:25:43.918 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:25:43.918 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:25:43.955 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:25:43.956 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:25:43.956 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:25:43.992 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:25:43.992 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:25:43.995 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:25:44.500 [RMI TCP Connection(1)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:25:44.500 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:25:44.501 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:25:53.290 [Thread-10] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:25:53.291 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:25:53.292 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:25:53.292 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:25:53.292 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:25:53.294 [Thread-10] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:25:53.295 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:25:53.296 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:25:53.298 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:25:53.303 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:25:53.305 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:25:53.353 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:25:53.353 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:25:53.353 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:25:53.353 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:25:53.354 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:25:53.402 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:25:53.402 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:25:53.402 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:25:53.402 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:25:53.402 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:25:53.403 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:25:53.403 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:25:53.444 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:25:53.444 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:25:53.444 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:25:53.444 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:25:53.444 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:25:53.445 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:25:53.449 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:25:58.432 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 8588 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:25:58.433 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:25:58.433 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:25:59.332 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:25:59.354 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:25:59.354 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 879 ms
2025-10-11 16:25:59.640 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:25:59.641 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:25:59.641 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:25:59.650 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:25:59.667 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:25:59.887 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:25:59.899 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:25:59.938 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:25:59.967 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:25:59.967 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:25:59.969 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:25:59.979 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:25:59.979 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 329ms, size: 1
2025-10-11 16:25:59.979 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:25:59.979 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:25:59.979 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:25:59.980 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:25:59.980 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:25:59.980 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:25:59.980 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:25:59.981 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:25:59.981 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:25:59.981 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:25:59.981 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:25:59.984 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:25:59.985 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:00.723 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:00.724 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:00.868 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:00.868 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:26:00.902 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:26:00.904 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:26:00.908 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:26:00.908 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@dc1fadd, 2002=com.game.proto.GameProto$LogoutRequest$1@3ef3f661, 1000=com.game.proto.GameProto$HeartbeatMessage$1@baa9ce4}
2025-10-11 16:26:00.908 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:26:01.035 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:26:01.150 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:26:01.574 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:26:01.605 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:26:01.619 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:26:01.628 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:26:01.664 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:26:01.717 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:26:01.725 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:26:01.743 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.638 seconds (JVM running for 4.103)
2025-10-11 16:26:01.744 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:26:01.745 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:26:01.745 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:01.795 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:01.795 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:26:01.795 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:01.838 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:01.838 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:26:01.844 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:26:01.944 [RMI TCP Connection(1)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:26:01.944 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:26:01.945 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:26:12.119 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:26:12.119 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:26:12.120 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:26:12.120 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:26:12.120 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:26:12.124 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:26:12.125 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:26:12.126 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:26:12.129 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:26:12.134 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:26:12.136 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:26:12.180 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:26:12.180 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:26:12.180 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:26:12.180 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:26:12.180 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:26:12.237 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:26:12.237 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:26:12.237 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:26:12.237 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:26:12.237 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:26:12.238 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:26:12.238 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:26:12.313 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:26:12.313 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:26:12.313 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:26:12.313 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:26:12.313 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:26:12.314 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:26:12.319 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:26:14.827 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17940 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:26:14.827 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:26:14.828 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:26:15.723 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:26:15.746 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:26:15.746 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 877 ms
2025-10-11 16:26:16.031 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:26:16.032 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:26:16.032 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:26:16.041 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:26:16.057 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:26:16.278 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:26:16.288 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:26:16.324 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:26:16.353 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:26:16.353 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:26:16.355 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:26:16.365 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:26:16.365 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 324ms, size: 1
2025-10-11 16:26:16.365 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:26:16.365 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:26:16.365 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:26:16.366 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:26:16.372 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:26:16.372 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:17.046 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:17.046 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:17.181 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:17.182 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:26:17.215 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:26:17.218 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:26:17.221 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:26:17.221 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@5cd8d029, 2002=com.game.proto.GameProto$LogoutRequest$1@32a8ca06, 1000=com.game.proto.GameProto$HeartbeatMessage$1@6e8f2094}
2025-10-11 16:26:17.221 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:26:17.343 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:26:17.453 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:26:17.884 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:26:17.916 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:26:17.929 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:26:17.937 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:26:17.975 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:26:18.026 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:26:18.034 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:26:18.051 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.556 seconds (JVM running for 4.013)
2025-10-11 16:26:18.053 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:26:18.054 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:26:18.054 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:18.090 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:18.090 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:26:18.090 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:18.141 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:18.141 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:26:18.144 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:26:18.392 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:26:18.392 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:26:18.394 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:26:35.407 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:26:35.407 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:26:35.407 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:26:35.407 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:26:35.408 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:26:35.411 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:26:35.412 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:26:35.412 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:26:35.415 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:26:35.420 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:26:35.421 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:26:35.464 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:26:35.464 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:26:35.464 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:26:35.464 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:26:35.464 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:26:35.520 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:26:35.521 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:26:35.521 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:26:35.521 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:26:35.521 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:26:35.521 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:26:35.522 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:26:35.564 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:26:35.564 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:26:35.564 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:26:35.564 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:26:35.564 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:26:35.565 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:26:35.569 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:26:40.723 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 588 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:26:40.724 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:26:40.725 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:26:41.631 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:26:41.661 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:26:41.662 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 899 ms
2025-10-11 16:26:41.929 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:26:41.930 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:26:41.930 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:26:41.939 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:26:41.954 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:26:42.179 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:26:42.188 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:26:42.226 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:26:42.253 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:26:42.253 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:26:42.256 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:26:42.265 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:26:42.265 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 326ms, size: 1
2025-10-11 16:26:42.265 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:26:42.265 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:26:42.265 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:26:42.266 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:26:42.267 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:26:42.269 [main] INFO  com.game.config.ExcelConfigManager - Initializing ExcelConfigManager...
2025-10-11 16:26:42.270 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:42.961 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:42.961 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:43.103 [main] WARN  com.game.config.ExcelConfigManager - Invalid intIntMap format: {60080#2321504
2025-10-11 16:26:43.106 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:43.106 [main] INFO  com.game.config.ExcelConfigManager - Loaded 2 config files
2025-10-11 16:26:43.137 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:26:43.140 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:26:43.143 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:26:43.143 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@6704df84, 2002=com.game.proto.GameProto$LogoutRequest$1@1412682c, 1000=com.game.proto.GameProto$HeartbeatMessage$1@53bb71e5}
2025-10-11 16:26:43.143 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:26:43.265 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:26:43.374 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:26:43.831 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:26:43.863 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:26:43.877 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:26:43.884 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:26:43.922 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:26:43.974 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:26:43.982 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:26:44.011 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 3.619 seconds (JVM running for 4.082)
2025-10-11 16:26:44.013 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:26:44.013 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:26:44.013 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:26:44.055 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:26:44.056 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:26:44.056 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:26:44.096 [main] WARN  com.game.config.ExcelConfigManager - Invalid intIntMap format: {60080#2321504
2025-10-11 16:26:44.098 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:26:44.099 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:26:44.101 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:26:44.298 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:26:44.298 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:26:44.302 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-11 16:27:42.270 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:27:42.271 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:27:42.271 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:27:42.271 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:28:42.278 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:28:42.278 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:28:42.279 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:28:42.279 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:29:42.268 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:29:42.268 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:29:42.268 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:29:42.268 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:30:42.272 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:30:42.273 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:30:42.273 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:30:42.273 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:30:56.349 [Thread-9] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:30:56.350 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:30:56.350 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:30:56.350 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:30:56.351 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:30:56.354 [Thread-9] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:30:56.355 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:30:56.355 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:30:56.359 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:30:56.365 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:30:56.366 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:30:56.415 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:30:56.415 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:30:56.415 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:30:56.415 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:30:56.415 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:30:56.465 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:30:56.465 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:30:56.465 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:30:56.465 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:30:56.465 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:30:56.466 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:30:56.466 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:30:56.506 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:30:56.506 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:30:56.506 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:30:56.506 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:30:56.506 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:30:56.507 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:30:56.511 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:31:01.385 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 4344 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:31:01.386 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:31:01.386 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:31:02.235 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:31:02.263 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:31:02.263 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 838 ms
2025-10-11 16:31:02.514 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:31:02.515 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:31:02.515 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:31:02.524 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:31:02.539 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:31:02.738 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:31:02.747 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:31:02.784 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:31:02.811 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:31:02.811 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:31:02.813 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:31:02.822 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:31:02.822 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 298ms, size: 1
2025-10-11 16:31:02.822 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:31:02.822 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:31:02.822 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:31:02.823 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:31:02.853 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:31:02.855 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:31:02.857 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:31:02.857 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@4d98e41b, 2002=com.game.proto.GameProto$LogoutRequest$1@5ed5b321, 1000=com.game.proto.GameProto$HeartbeatMessage$1@5696c927}
2025-10-11 16:31:02.857 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:31:02.955 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:31:03.050 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:31:03.410 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:31:03.437 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:31:03.448 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:31:03.455 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:31:03.486 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:31:03.531 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:31:03.538 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:31:03.553 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.479 seconds (JVM running for 2.91)
2025-10-11 16:31:03.555 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:31:03.555 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:31:03.555 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:31:04.289 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:31:04.290 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:31:04.290 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:31:04.431 [main] WARN  com.game.config.ExcelConfigManager - Invalid intIntMap format: {60080#2321504
2025-10-11 16:31:04.433 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:31:04.434 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:31:04.435 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:31:04.999 [RMI TCP Connection(3)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:31:04.999 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:31:05.001 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:32:02.833 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:32:02.833 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:32:02.833 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:32:02.834 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:33:02.834 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:33:02.834 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:33:02.835 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:33:02.835 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:34:02.834 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:34:02.834 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:34:02.834 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:34:02.834 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:35:02.833 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:35:02.833 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:35:02.833 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:35:02.833 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:35:47.116 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:35:47.117 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:35:47.118 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:35:47.118 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:35:47.118 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:35:47.124 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:35:47.125 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:35:47.125 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:35:47.130 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:35:47.136 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:35:47.137 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:35:47.172 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:35:47.173 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:35:47.173 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:35:47.173 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:35:47.173 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:35:47.233 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:35:47.233 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:35:47.233 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:35:47.233 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:35:47.233 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:35:47.234 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:35:47.234 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:35:47.263 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:35:47.264 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:35:47.264 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:35:47.264 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:35:47.264 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:35:47.264 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:35:47.269 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:35:51.676 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18752 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:35:51.677 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:35:51.677 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:35:52.522 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:35:52.542 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:35:52.542 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 826 ms
2025-10-11 16:35:52.809 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:35:52.810 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:35:52.810 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:35:52.818 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:35:52.833 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:35:53.045 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:35:53.054 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:35:53.089 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:35:53.116 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:35:53.116 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:35:53.118 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:35:53.126 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:35:53.126 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 308ms, size: 1
2025-10-11 16:35:53.127 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:35:53.127 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:35:53.127 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:35:53.128 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:35:53.129 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:35:53.129 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:35:53.161 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:35:53.163 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:35:53.165 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:35:53.165 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@d54d0f5, 2002=com.game.proto.GameProto$LogoutRequest$1@6d6bff89, 1000=com.game.proto.GameProto$HeartbeatMessage$1@541bf968}
2025-10-11 16:35:53.165 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:35:53.260 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:35:53.352 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:35:53.697 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:35:53.723 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:35:53.733 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:35:53.740 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:35:53.771 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:35:53.815 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:35:53.823 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:35:53.838 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.47 seconds (JVM running for 2.896)
2025-10-11 16:35:53.839 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:35:53.840 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:35:53.840 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:36:40.695 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s536ms417µs700ns).
2025-10-11 16:36:40.951 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:36:40.952 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:36:40.952 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:36:54.574 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:36:54.574 [main] ERROR com.game.config.ExcelConfigManager - Invalid intIntMap format: {60080#2321504
2025-10-11 16:36:54.575 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:36:54.576 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:36:54.576 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:36:54.631 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:36:54.631 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: ~$BaseConfig.xlsx
2025-10-11 16:36:54.631 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: ~$BaseConfig.xlsx
2025-10-11 16:36:54.636 [main] ERROR com.game.config.ExcelConfigManager - Failed to load config data from file: ~$BaseConfig.xlsx
java.io.FileNotFoundException: game-server\config\~$BaseConfig.xlsx (另一个程序正在使用此文件，进程无法访问。)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.game.config.ExcelConfigManager.loadConfigDataFromFile(ExcelConfigManager.java:89)
	at com.game.config.ExcelConfigManager.loadConfig(ExcelConfigManager.java:68)
	at com.game.init.ConfigInitializer.initializeConfigs(ConfigInitializer.java:54)
	at com.game.init.ConfigInitializer.run(ConfigInitializer.java:65)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.lambda$callRunners$2(SpringApplication.java:746)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:352)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:744)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
2025-10-11 16:36:54.636 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 3 个配置文件
2025-10-11 16:36:54.638 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:36:55.111 [RMI TCP Connection(5)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:36:55.111 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:36:55.113 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:37:27.982 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:37:27.983 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:37:27.983 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:37:27.983 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:37:27.985 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:37:27.988 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:37:27.989 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:37:27.991 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:37:27.994 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:37:28.013 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:37:28.014 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:37:28.047 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:37:28.048 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:37:28.048 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:37:28.048 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:37:28.048 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:37:28.110 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:37:28.111 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:37:28.112 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:37:28.113 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:37:28.113 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:37:28.113 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:37:28.114 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:37:28.156 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:37:28.157 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:37:28.157 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:37:28.157 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:37:28.157 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:37:28.157 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:37:28.162 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:37:32.628 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17768 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:37:32.629 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:37:32.629 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:37:33.499 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:37:33.527 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:37:33.527 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 858 ms
2025-10-11 16:37:33.784 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:37:33.785 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:37:33.785 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:37:33.794 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:37:33.809 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:37:34.002 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:37:34.012 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:37:34.048 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:37:34.076 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:37:34.076 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:37:34.079 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:37:34.087 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:37:34.087 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 293ms, size: 1
2025-10-11 16:37:34.087 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:37:34.088 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:37:34.088 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:37:34.089 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:37:34.119 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:37:34.121 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:37:34.124 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:37:34.124 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@73ca34e7, 2002=com.game.proto.GameProto$LogoutRequest$1@4d98e41b, 1000=com.game.proto.GameProto$HeartbeatMessage$1@5ed5b321}
2025-10-11 16:37:34.124 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:37:34.219 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:37:34.310 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:37:34.657 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:37:34.684 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:37:34.695 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:37:34.701 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:37:34.731 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:37:34.773 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:37:34.780 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:37:34.795 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.477 seconds (JVM running for 2.905)
2025-10-11 16:37:34.797 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:37:34.797 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:37:34.797 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:37:35.531 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:37:35.532 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:37:35.532 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:37:35.677 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:37:35.677 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: ~$BaseConfig.xlsx
2025-10-11 16:37:35.677 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: ~$BaseConfig.xlsx
2025-10-11 16:37:35.682 [main] ERROR com.game.config.ExcelConfigManager - Failed to load config data from file: ~$BaseConfig.xlsx
java.io.FileNotFoundException: game-server\config\~$BaseConfig.xlsx (另一个程序正在使用此文件，进程无法访问。)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.game.config.ExcelConfigManager.loadConfigDataFromFile(ExcelConfigManager.java:89)
	at com.game.config.ExcelConfigManager.loadConfig(ExcelConfigManager.java:68)
	at com.game.init.ConfigInitializer.initializeConfigs(ConfigInitializer.java:54)
	at com.game.init.ConfigInitializer.run(ConfigInitializer.java:65)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.lambda$callRunners$2(SpringApplication.java:746)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:352)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:744)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:55)
2025-10-11 16:37:35.682 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 3 个配置文件
2025-10-11 16:37:35.683 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:37:36.247 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:37:36.247 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:37:36.249 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:37:41.037 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:37:41.037 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:37:41.038 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:37:41.039 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:37:41.039 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:37:41.041 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:37:41.043 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:37:41.046 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:37:41.049 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:37:41.053 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:37:41.055 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:37:41.091 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:37:41.092 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:37:41.092 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:37:41.092 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:37:41.092 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:37:41.149 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:37:41.149 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:37:41.149 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:37:41.149 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:37:41.150 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:37:41.150 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:37:41.150 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:37:41.191 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:37:41.192 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:37:41.192 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:37:41.192 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:37:41.192 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:37:41.193 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:37:41.198 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:37:43.334 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17816 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:37:43.335 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:37:43.336 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:37:44.179 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:37:44.200 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:37:44.200 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 828 ms
2025-10-11 16:37:44.463 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:37:44.464 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:37:44.465 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:37:44.472 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:37:44.487 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:37:44.690 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:37:44.700 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:37:44.736 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:37:44.763 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:37:44.763 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:37:44.765 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:37:44.775 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:37:44.775 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 303ms, size: 1
2025-10-11 16:37:44.775 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:37:44.775 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:37:44.775 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:37:44.776 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:37:44.776 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:37:44.777 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:37:44.806 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:37:44.809 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:37:44.811 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:37:44.811 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@5ed5b321, 2002=com.game.proto.GameProto$LogoutRequest$1@5696c927, 1000=com.game.proto.GameProto$HeartbeatMessage$1@7459a21e}
2025-10-11 16:37:44.811 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:37:44.905 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:37:44.999 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:37:45.363 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:37:45.388 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:37:45.399 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:37:45.406 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:37:45.436 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:37:45.479 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:37:45.486 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:37:45.500 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.542 seconds (JVM running for 3.028)
2025-10-11 16:37:45.502 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:37:45.502 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:37:45.502 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:37:46.248 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:37:46.249 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:37:46.249 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:37:46.388 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:37:46.388 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:37:46.389 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:37:46.798 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:37:46.798 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:37:46.799 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:38:34.839 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:38:34.839 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:38:34.839 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:38:34.840 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:38:34.840 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:38:34.842 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:38:34.844 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:38:34.844 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:38:34.847 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:38:34.863 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:38:34.865 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:38:34.944 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:38:34.944 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:38:34.944 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:38:34.944 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:38:34.944 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:38:34.945 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:38:34.945 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:38:35.793 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:38:35.794 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:38:35.794 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:38:35.794 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:38:35.794 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:38:35.902 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:38:35.902 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:38:35.902 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:38:35.902 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:38:35.902 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:38:35.903 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:38:35.907 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:38:40.597 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 19088 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:38:40.598 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:38:40.598 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:38:41.428 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:38:41.448 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:38:41.448 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 811 ms
2025-10-11 16:38:41.706 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:38:41.707 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:38:41.707 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:38:41.715 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:38:41.731 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:38:41.940 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:38:41.949 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:38:41.985 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:38:42.012 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:38:42.013 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:38:42.015 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:38:42.022 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:38:42.023 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 308ms, size: 1
2025-10-11 16:38:42.023 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:38:42.023 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:38:42.024 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:38:42.024 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:38:42.024 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:38:42.025 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:38:42.053 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:38:42.055 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:38:42.057 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:38:42.057 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@7eeb38b2, 2002=com.game.proto.GameProto$LogoutRequest$1@d54d0f5, 1000=com.game.proto.GameProto$HeartbeatMessage$1@6d6bff89}
2025-10-11 16:38:42.057 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:38:42.151 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:38:42.243 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:38:42.591 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:38:42.617 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:38:42.628 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:38:42.634 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:38:42.665 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:38:42.708 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:38:42.715 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:38:42.730 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.449 seconds (JVM running for 2.874)
2025-10-11 16:38:42.732 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:38:42.733 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:38:42.733 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:38:43.473 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:38:43.473 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:38:43.473 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:38:43.608 [main] ERROR com.game.config.ExcelConfigManager - Invalid intIntMap format: {60080#2321504
2025-10-11 16:38:43.611 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:38:43.611 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:38:43.613 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:38:44.244 [RMI TCP Connection(1)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:38:44.245 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:38:44.251 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-10-11 16:39:13.228 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:39:13.228 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:39:13.228 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:39:13.228 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:39:13.228 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:39:13.231 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:39:13.232 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:39:13.233 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:39:13.236 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:39:13.242 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:39:13.244 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:39:13.278 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:39:13.278 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:39:13.278 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:39:13.279 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:39:13.279 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:39:13.340 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:39:13.340 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:39:13.340 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:39:13.340 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:39:13.340 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:39:13.341 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:39:13.341 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:39:13.371 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:39:13.371 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:39:13.371 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:39:13.371 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:39:13.371 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:39:13.372 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:39:13.376 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:39:17.775 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 16096 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:39:17.776 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:39:17.777 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:39:18.618 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:39:18.639 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:39:18.639 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 826 ms
2025-10-11 16:39:18.919 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:39:18.920 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:39:18.920 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:39:18.928 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:39:18.942 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:39:19.147 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:39:19.157 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:39:19.196 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:39:19.223 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:39:19.223 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:39:19.225 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:39:19.234 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:39:19.234 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 306ms, size: 1
2025-10-11 16:39:19.234 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:39:19.234 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:39:19.234 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:39:19.235 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:39:19.236 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:39:19.265 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:39:19.267 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:39:19.269 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:39:19.269 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@50b46e24, 2002=com.game.proto.GameProto$LogoutRequest$1@1c30cb85, 1000=com.game.proto.GameProto$HeartbeatMessage$1@577bf0aa}
2025-10-11 16:39:19.269 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:39:19.363 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:39:19.454 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:39:19.803 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:39:19.829 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:39:19.840 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:39:19.847 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:39:19.878 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:39:19.922 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:39:19.929 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:39:19.944 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.479 seconds (JVM running for 2.905)
2025-10-11 16:39:19.945 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:39:19.945 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:39:19.946 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:39:20.673 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:39:20.674 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:39:20.674 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:39:20.815 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:39:20.816 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:39:20.817 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:39:21.384 [RMI TCP Connection(5)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:39:21.385 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:39:21.388 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-10-11 16:40:19.258 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:40:19.262 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:40:19.262 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:40:19.262 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:41:19.237 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:41:19.237 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:41:19.238 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:41:19.238 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:42:19.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:42:19.234 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:42:19.234 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:42:19.234 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:43:02.419 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:43:02.419 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:43:02.419 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:43:02.419 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:43:02.419 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:43:02.423 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:43:02.425 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:43:02.425 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:43:02.428 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:43:02.433 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:43:02.435 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:43:02.495 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:43:02.495 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:43:02.495 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:43:02.495 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:43:02.495 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:43:02.529 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:43:02.529 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:43:02.530 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:43:02.530 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:43:02.530 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:43:02.530 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:43:02.530 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:43:02.643 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:43:02.643 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:43:02.643 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:43:02.643 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:43:02.643 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:43:02.644 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:43:02.648 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:49:29.307 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17632 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:49:29.308 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:49:29.308 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:49:30.184 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:49:30.207 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:49:30.207 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 860 ms
2025-10-11 16:49:30.466 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:49:30.466 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:49:30.466 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:49:30.475 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:49:30.489 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:49:30.702 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:49:30.714 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:49:30.752 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:49:30.782 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:49:30.783 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:49:30.785 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:49:30.794 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:49:30.795 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 320ms, size: 1
2025-10-11 16:49:30.795 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:49:30.795 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:49:30.795 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:49:30.798 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:49:30.832 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:49:30.834 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:49:30.837 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:49:30.837 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@4b87074a, 2002=com.game.proto.GameProto$LogoutRequest$1@d3e3085, 1000=com.game.proto.GameProto$HeartbeatMessage$1@2ba42204}
2025-10-11 16:49:30.837 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:49:30.940 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:49:31.035 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:49:31.412 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:49:31.439 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:49:31.449 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:49:31.456 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:49:31.489 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:49:31.541 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:49:31.548 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:49:31.564 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.576 seconds (JVM running for 3.005)
2025-10-11 16:49:31.565 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:49:31.566 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: AdditionConfig.xlsx
2025-10-11 16:49:31.566 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 16:49:32.304 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:49:32.305 [main] INFO  com.game.init.ConfigInitializer - 正在加载配置文件: BaseConfig.xlsx
2025-10-11 16:49:32.305 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 16:49:32.444 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:49:32.444 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:49:32.446 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:49:32.833 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:49:32.833 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:49:32.835 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:50:30.799 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:50:30.800 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:50:30.800 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:50:30.800 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:51:30.797 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:51:30.797 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:51:30.797 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:51:30.798 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:52:30.800 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:52:30.800 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:52:30.800 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:52:30.800 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:53:20.900 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:53:20.901 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:53:20.901 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:53:20.901 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:53:20.901 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:53:20.904 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:53:20.905 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:53:20.905 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:53:20.909 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:53:20.915 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:53:20.916 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:53:20.955 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:53:20.956 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:53:20.956 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:53:20.956 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:53:20.956 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:53:21.007 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:53:21.007 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:53:21.008 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:53:21.008 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:53:21.008 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:53:21.008 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:53:21.008 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:53:21.047 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:53:21.047 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:53:21.047 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:53:21.047 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:53:21.047 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:53:21.048 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:53:21.052 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:53:33.020 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 16744 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:53:33.021 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:53:33.021 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:53:33.856 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:53:33.883 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:53:33.883 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 824 ms
2025-10-11 16:53:34.139 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:53:34.140 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:53:34.140 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:53:34.149 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:53:34.165 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:53:34.384 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:53:34.395 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:53:34.430 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:53:34.458 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:53:34.458 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:53:34.460 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:53:34.470 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:53:34.470 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 321ms, size: 1
2025-10-11 16:53:34.470 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:53:34.470 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:53:34.470 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:53:34.471 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:53:34.503 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:53:34.504 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:53:34.507 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:53:34.507 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@624b523, 2002=com.game.proto.GameProto$LogoutRequest$1@50b46e24, 1000=com.game.proto.GameProto$HeartbeatMessage$1@1c30cb85}
2025-10-11 16:53:34.507 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:53:34.611 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:53:34.712 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:53:35.080 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:53:35.108 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:53:35.119 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:53:35.126 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:53:35.159 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:53:35.205 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:53:35.212 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:53:35.227 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.525 seconds (JVM running for 2.944)
2025-10-11 16:53:35.229 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:53:35.987 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:53:36.130 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:53:36.130 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 2 个配置文件
2025-10-11 16:53:36.132 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:53:36.537 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:53:36.537 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:53:36.541 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-11 16:54:34.494 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:54:34.497 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:54:34.497 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:54:34.498 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:54:42.127 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:54:42.127 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:54:42.127 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:54:42.127 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:54:42.127 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:54:42.130 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:54:42.132 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:54:42.132 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:54:42.135 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:54:42.142 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:54:42.143 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:54:42.175 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:54:42.175 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:54:42.176 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:54:42.176 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:54:42.176 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:54:42.238 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:54:42.238 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:54:42.238 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:54:42.238 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:54:42.238 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:54:42.239 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:54:42.239 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:54:42.275 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:54:42.276 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:54:42.276 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:54:42.276 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:54:42.276 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:54:42.277 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:54:42.281 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:54:46.360 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18212 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:54:46.361 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:54:46.361 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:54:47.198 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:54:47.218 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:54:47.219 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 818 ms
2025-10-11 16:54:47.482 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:54:47.483 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:54:47.483 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:54:47.491 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:54:47.506 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:54:47.722 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:54:47.732 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:54:47.767 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:54:47.795 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:54:47.795 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:54:47.797 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:54:47.806 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:54:47.806 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 315ms, size: 1
2025-10-11 16:54:47.806 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:54:47.806 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:54:47.806 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:54:47.807 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:54:47.835 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:54:47.837 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:54:47.840 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:54:47.840 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@1d15c0a1, 2002=com.game.proto.GameProto$LogoutRequest$1@15639d09, 1000=com.game.proto.GameProto$HeartbeatMessage$1@4fba8eec}
2025-10-11 16:54:47.840 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:54:47.935 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:54:48.032 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:54:48.383 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:54:48.409 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:54:48.419 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:54:48.426 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:54:48.456 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:54:48.500 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:54:48.507 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:54:48.522 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.471 seconds (JVM running for 2.898)
2025-10-11 16:54:48.524 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:54:49.269 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:54:49.410 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:54:49.505 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 16:54:49.505 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 3 个配置文件
2025-10-11 16:54:49.507 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:54:49.884 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:54:49.885 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:54:49.887 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:55:16.929 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:55:16.929 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:55:16.930 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:55:16.930 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:55:16.930 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:55:16.933 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:55:16.935 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:55:16.935 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:55:16.939 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:55:16.945 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:55:16.947 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:55:16.983 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:55:16.983 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:55:16.983 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:55:16.983 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:55:16.983 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:55:17.042 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:55:17.042 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:55:17.042 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:55:17.042 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:55:17.042 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:55:17.043 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:55:17.043 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:55:17.074 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:55:17.074 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:55:17.074 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:55:17.074 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:55:17.074 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:55:17.075 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:55:17.079 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:55:20.990 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 12892 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:55:20.990 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:55:20.991 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:55:21.813 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:55:21.834 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:55:21.834 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 808 ms
2025-10-11 16:55:22.094 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:55:22.095 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:55:22.095 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:55:22.103 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:55:22.118 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:55:22.321 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:55:22.332 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:55:22.369 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:55:22.396 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:55:22.396 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:55:22.398 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:55:22.407 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:55:22.407 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 304ms, size: 1
2025-10-11 16:55:22.407 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:55:22.407 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:55:22.407 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:55:22.408 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:55:22.437 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:55:22.439 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:55:22.442 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:55:22.442 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@61149fa5, 2002=com.game.proto.GameProto$LogoutRequest$1@149c39b, 1000=com.game.proto.GameProto$HeartbeatMessage$1@f2d890c}
2025-10-11 16:55:22.442 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:55:22.539 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:55:22.632 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:55:22.981 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:55:23.007 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:55:23.017 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:55:23.023 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:55:23.054 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:55:23.097 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:55:23.104 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:55:23.119 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.445 seconds (JVM running for 2.869)
2025-10-11 16:55:23.120 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:55:23.848 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:55:23.988 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:55:24.082 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 16:55:24.082 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 3 个配置文件
2025-10-11 16:55:24.085 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:55:24.513 [RMI TCP Connection(3)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:55:24.513 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:55:24.514 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:56:22.412 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:56:22.412 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:56:22.413 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:56:22.413 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:56:58.325 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:56:58.325 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:56:58.325 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:56:58.325 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:56:58.325 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:56:58.327 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:56:58.329 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:56:58.329 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:56:58.331 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:56:58.337 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:56:58.338 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:56:58.384 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:56:58.384 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:56:58.384 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:56:58.385 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:56:58.385 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:56:58.436 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:56:58.436 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:56:58.436 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:56:58.436 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:56:58.436 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:56:58.437 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:56:58.437 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:56:58.476 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:56:58.477 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:56:58.477 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:56:58.477 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:56:58.477 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:56:58.477 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:56:58.481 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:57:02.416 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 2860 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:57:02.417 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:57:02.417 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:57:03.314 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:57:03.334 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:57:03.334 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 879 ms
2025-10-11 16:57:03.597 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:57:03.598 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:57:03.598 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:57:03.606 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:57:03.621 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:57:03.828 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:57:03.838 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:57:03.874 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:57:03.900 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:57:03.900 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:57:03.903 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:57:03.911 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:57:03.912 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 306ms, size: 1
2025-10-11 16:57:03.912 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:57:03.912 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:57:03.912 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:57:03.913 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:57:03.943 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:57:03.945 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:57:03.948 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:57:03.948 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@7fdd43cd, 2002=com.game.proto.GameProto$LogoutRequest$1@3a38f122, 1000=com.game.proto.GameProto$HeartbeatMessage$1@2ce03e86}
2025-10-11 16:57:03.948 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:57:04.044 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:57:04.137 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:57:04.487 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:57:04.513 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:57:04.524 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:57:04.530 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:57:04.561 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:57:04.612 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:57:04.619 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:57:04.635 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.577 seconds (JVM running for 3.021)
2025-10-11 16:57:04.637 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:57:05.561 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:57:05.700 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:57:05.785 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 16:57:05.806 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 16:57:05.806 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 16:57:05.809 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:57:05.962 [RMI TCP Connection(7)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:57:05.962 [RMI TCP Connection(7)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:57:05.963 [RMI TCP Connection(7)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 16:57:25.738 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:57:25.739 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:57:25.739 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:57:25.739 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:57:25.739 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:57:25.741 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:57:25.742 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:57:25.742 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:57:25.745 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:57:25.751 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:57:25.752 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:57:25.802 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:57:25.802 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:57:25.802 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:57:25.802 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:57:25.802 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:57:25.856 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:57:25.856 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:57:25.856 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:57:25.856 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:57:25.856 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:57:25.857 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:57:25.857 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:57:25.903 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:57:25.903 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:57:25.903 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:57:25.903 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:57:25.903 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:57:25.904 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:57:25.909 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 16:57:29.756 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14848 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 16:57:29.757 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 16:57:29.758 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 16:57:30.581 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 16:57:30.601 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 16:57:30.601 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 805 ms
2025-10-11 16:57:30.881 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 16:57:30.882 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 16:57:30.882 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 16:57:30.890 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 16:57:30.905 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 16:57:31.110 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 16:57:31.119 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 16:57:31.156 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 16:57:31.184 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 16:57:31.184 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 16:57:31.187 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 16:57:31.195 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 16:57:31.195 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 305ms, size: 1
2025-10-11 16:57:31.195 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 16:57:31.196 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 16:57:31.196 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 16:57:31.197 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 16:57:31.226 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 16:57:31.229 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 16:57:31.231 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 16:57:31.231 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@31acfd4e, 2002=com.game.proto.GameProto$LogoutRequest$1@5f726750, 1000=com.game.proto.GameProto$HeartbeatMessage$1@4e80a001}
2025-10-11 16:57:31.231 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 16:57:31.326 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 16:57:31.421 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 16:57:31.772 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 16:57:31.798 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 16:57:31.808 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 16:57:31.815 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 16:57:31.846 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 16:57:31.889 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 16:57:31.896 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 16:57:31.911 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.469 seconds (JVM running for 2.896)
2025-10-11 16:57:31.912 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 16:57:32.646 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 16:57:32.788 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 16:57:32.882 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 16:57:32.901 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 16:57:32.901 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 16:57:32.902 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 16:57:33.312 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 16:57:33.312 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 16:57:33.314 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 16:58:31.203 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:58:31.203 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:58:31.204 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:58:31.204 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:59:31.198 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 16:59:31.198 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 16:59:31.198 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 16:59:31.199 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 16:59:46.312 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:59:46.312 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 16:59:46.312 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:59:46.312 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:59:46.313 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:59:46.316 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:59:46.318 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 16:59:46.319 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:59:46.324 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:59:46.329 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 16:59:46.330 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 16:59:46.396 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:59:46.396 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:59:46.396 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:59:46.396 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:59:46.396 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 16:59:46.420 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 16:59:46.420 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 16:59:46.420 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 16:59:46.420 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 16:59:46.421 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 16:59:46.421 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 16:59:46.421 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 16:59:46.488 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 16:59:46.488 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 16:59:46.488 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 16:59:46.488 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 16:59:46.488 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 16:59:46.489 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 16:59:46.493 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:05:01.268 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 10428 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:05:01.269 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:05:01.269 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 17:05:02.099 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:05:02.120 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:05:02.120 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 815 ms
2025-10-11 17:05:02.381 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:05:02.382 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:05:02.382 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:05:02.390 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:05:02.405 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:05:02.600 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:05:02.610 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:05:02.648 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:05:02.674 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 17:05:02.675 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 17:05:02.677 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:05:02.685 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:05:02.686 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 295ms, size: 1
2025-10-11 17:05:02.686 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:05:02.686 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:05:02.686 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:05:02.687 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:05:02.688 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:05:02.716 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:05:02.718 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:05:02.721 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:05:02.721 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@1a2e0d57, 2002=com.game.proto.GameProto$LogoutRequest$1@5f025000, 1000=com.game.proto.GameProto$HeartbeatMessage$1@10980560}
2025-10-11 17:05:02.721 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:05:02.815 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:05:02.911 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:05:03.259 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:05:03.285 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:05:03.295 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:05:03.301 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:05:03.331 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:05:03.374 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 17:05:03.381 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:05:03.395 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.46 seconds (JVM running for 3.041)
2025-10-11 17:05:03.397 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:05:03.397 [main] WARN  com.game.init.ConfigInitializer - 配置目录不存在: D:\workspace-vs\study\qoder\config
2025-10-11 17:05:03.398 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:05:03.691 [RMI TCP Connection(5)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:05:03.691 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:05:03.693 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 17:06:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:06:02.694 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:06:02.694 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:06:02.695 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:07:02.697 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:07:02.697 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:07:02.697 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:07:02.698 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:08:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:08:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:08:02.694 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:08:02.694 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:09:02.699 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:09:02.700 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:09:02.700 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:09:02.700 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:10:02.694 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:10:02.695 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:10:02.695 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:10:02.695 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:11:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:11:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:11:02.693 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:11:02.694 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:12:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:12:02.693 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:12:02.694 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:12:02.694 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:13:02.690 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:13:02.690 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:13:02.691 [ForkJoinPool.commonPool-worker-1] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:13:02.691 [ForkJoinPool.commonPool-worker-1] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:13:26.739 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:13:26.739 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:13:26.740 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:13:26.740 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:13:26.740 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:13:26.744 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:13:26.746 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:13:26.746 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:13:26.749 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:13:26.757 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:13:26.759 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:13:26.826 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:13:26.827 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:13:26.827 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:13:26.827 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:13:26.827 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:13:26.849 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:13:26.850 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:13:26.850 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:13:26.850 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:13:26.850 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:13:26.851 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:13:26.851 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:13:26.966 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:13:26.967 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:13:26.967 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:13:26.967 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:13:26.967 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:13:26.968 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:13:26.975 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:13:34.633 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17528 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:13:34.634 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:13:34.635 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 17:13:35.596 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:13:35.619 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:13:35.619 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 943 ms
2025-10-11 17:13:35.979 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:13:35.981 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:13:35.981 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:13:35.993 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:13:36.020 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:13:36.299 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:13:36.311 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:13:36.353 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:13:36.382 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 17:13:36.382 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 17:13:36.385 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:13:36.394 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:13:36.395 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 402ms, size: 1
2025-10-11 17:13:36.395 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:13:36.395 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:13:36.395 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:13:36.397 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:13:36.433 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:13:36.436 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:13:36.439 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:13:36.439 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@611e5819, 2002=com.game.proto.GameProto$LogoutRequest$1@681c0ae6, 1000=com.game.proto.GameProto$HeartbeatMessage$1@73ca34e7}
2025-10-11 17:13:36.439 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:13:36.562 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:13:36.668 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:13:37.099 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:13:37.132 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:13:37.144 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:13:37.151 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:13:37.186 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:13:37.234 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 17:13:37.242 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:13:37.259 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.952 seconds (JVM running for 3.411)
2025-10-11 17:13:37.261 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:13:37.261 [main] WARN  com.game.init.ConfigInitializer - 配置目录不存在: D:\workspace-vs\study\qoder\config
2025-10-11 17:13:37.263 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:13:37.681 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:13:37.681 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:13:37.684 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 17:14:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:14:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:14:36.399 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:14:36.399 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:15:36.404 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:15:36.405 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:15:36.405 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:15:36.405 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:16:36.408 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:16:36.410 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:16:36.411 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:16:36.412 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:17:36.403 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:17:36.404 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:17:36.404 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:17:36.405 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:18:36.404 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:18:36.404 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:18:36.405 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:18:36.405 [ForkJoinPool.commonPool-worker-22] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:19:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:19:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:19:36.399 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:19:36.399 [ForkJoinPool.commonPool-worker-15] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:20:36.400 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:20:36.400 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:20:36.400 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:20:36.400 [ForkJoinPool.commonPool-worker-8] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:21:36.397 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:21:36.397 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:21:36.397 [ForkJoinPool.commonPool-worker-1] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:21:36.397 [ForkJoinPool.commonPool-worker-1] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:22:36.408 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:22:36.409 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:22:36.409 [ForkJoinPool.commonPool-worker-26] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:22:36.409 [ForkJoinPool.commonPool-worker-26] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:23:36.409 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:23:36.409 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:23:36.409 [ForkJoinPool.commonPool-worker-19] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:23:36.409 [ForkJoinPool.commonPool-worker-19] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:24:36.399 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:24:36.402 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:24:36.403 [ForkJoinPool.commonPool-worker-12] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:24:36.404 [ForkJoinPool.commonPool-worker-12] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:25:36.407 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:25:36.408 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:25:36.409 [ForkJoinPool.commonPool-worker-5] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:25:36.410 [ForkJoinPool.commonPool-worker-5] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:26:36.411 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:26:36.411 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:26:36.411 [ForkJoinPool.commonPool-worker-30] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:26:36.411 [ForkJoinPool.commonPool-worker-30] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:27:36.396 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:27:36.396 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:27:36.396 [ForkJoinPool.commonPool-worker-23] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:27:36.396 [ForkJoinPool.commonPool-worker-23] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:28:36.401 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:28:36.401 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:28:36.401 [ForkJoinPool.commonPool-worker-16] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:28:36.401 [ForkJoinPool.commonPool-worker-16] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:29:36.401 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:29:36.401 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:29:36.410 [ForkJoinPool.commonPool-worker-9] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:29:36.410 [ForkJoinPool.commonPool-worker-9] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:30:36.403 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:30:36.403 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:30:36.404 [ForkJoinPool.commonPool-worker-2] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:30:36.404 [ForkJoinPool.commonPool-worker-2] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:31:36.405 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:31:36.406 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:31:36.406 [ForkJoinPool.commonPool-worker-27] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:31:36.406 [ForkJoinPool.commonPool-worker-27] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:32:36.404 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:32:36.404 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:32:36.404 [ForkJoinPool.commonPool-worker-20] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:32:36.404 [ForkJoinPool.commonPool-worker-20] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:33:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:33:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:33:36.399 [ForkJoinPool.commonPool-worker-13] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:33:36.399 [ForkJoinPool.commonPool-worker-13] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:34:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:34:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:34:36.399 [ForkJoinPool.commonPool-worker-6] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:34:36.399 [ForkJoinPool.commonPool-worker-6] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:35:36.409 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:35:36.410 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:35:36.410 [ForkJoinPool.commonPool-worker-31] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:35:36.410 [ForkJoinPool.commonPool-worker-31] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:36:36.395 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:36:36.395 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:36:36.396 [ForkJoinPool.commonPool-worker-24] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:36:36.396 [ForkJoinPool.commonPool-worker-24] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:37:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:37:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:37:36.398 [ForkJoinPool.commonPool-worker-17] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:37:36.398 [ForkJoinPool.commonPool-worker-17] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:38:36.410 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:38:36.410 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:38:36.410 [ForkJoinPool.commonPool-worker-10] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:38:36.410 [ForkJoinPool.commonPool-worker-10] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:39:36.398 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:39:36.400 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:39:36.400 [ForkJoinPool.commonPool-worker-3] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:39:36.400 [ForkJoinPool.commonPool-worker-3] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:40:08.344 [Thread-8] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:40:08.344 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:40:08.345 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:40:08.345 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:40:08.345 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:40:08.349 [Thread-8] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:40:08.351 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:40:08.352 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:40:08.355 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:40:08.361 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:40:08.362 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:40:08.428 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:40:08.428 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:40:08.428 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:40:08.428 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:40:08.428 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:40:08.453 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:40:08.453 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:40:08.453 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:40:08.453 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:40:08.453 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:40:08.454 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:40:08.454 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:40:08.508 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:40:08.510 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:40:12.605 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18252 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:40:12.605 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:40:12.606 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 17:40:13.445 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:40:13.472 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:40:13.472 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 828 ms
2025-10-11 17:40:13.726 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:40:13.727 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:40:13.728 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:40:13.736 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:40:13.752 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:40:13.976 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:40:13.986 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:40:14.021 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:40:14.048 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 17:40:14.048 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 17:40:14.050 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:40:14.058 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:40:14.058 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 322ms, size: 1
2025-10-11 17:40:14.058 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:40:14.058 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:40:14.058 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:40:14.059 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:40:14.089 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:40:14.092 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:40:14.094 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:40:14.094 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@6d6bff89, 2002=com.game.proto.GameProto$LogoutRequest$1@541bf968, 1000=com.game.proto.GameProto$HeartbeatMessage$1@739265f1}
2025-10-11 17:40:14.094 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:40:14.190 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:40:14.283 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:40:14.633 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:40:14.660 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:40:14.671 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:40:14.678 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:40:14.709 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:40:14.752 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 17:40:14.760 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:40:14.775 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.488 seconds (JVM running for 2.924)
2025-10-11 17:40:14.776 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:40:14.781 [main] WARN  com.game.init.ConfigInitializer - 配置目录中没有找到Excel文件: D:\workspace-vs\study\qoder\game-server
2025-10-11 17:40:14.782 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:40:15.162 [RMI TCP Connection(3)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:40:15.162 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:40:15.163 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 17:40:41.228 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:40:41.228 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:40:41.229 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:40:41.229 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:40:41.229 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:40:41.233 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:40:41.233 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:40:41.234 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:40:41.237 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:40:41.242 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:40:41.243 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:40:41.285 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:40:41.286 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:40:41.286 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:40:41.286 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:40:41.286 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:40:41.334 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:40:41.335 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:40:41.372 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:40:41.372 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:40:41.372 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:40:41.372 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:40:41.372 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:40:41.373 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:40:41.377 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:40:45.888 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14368 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:40:45.889 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:40:45.889 [main] INFO  c.game.server.GameServerApplication - The following 1 profile is active: "dev"
2025-10-11 17:40:46.753 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:40:46.772 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:40:46.773 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 848 ms
2025-10-11 17:40:47.023 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:40:47.024 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:40:47.024 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:40:47.031 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:40:47.045 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:40:47.249 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:40:47.259 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:40:47.295 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:40:47.320 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==    Columns: userid, playerid, macaddr, channel, serverindex, language, createtime, logintime, logouttime, gm, platform, devicetype, networktype, sourceid, totalcharge, totalprice, paygroupids, paylimit, firstbuy, secondbuy, thirdbuy, buytime, pushset, deviceversion, state, createnum
2025-10-11 17:40:47.321 [ForkJoinPool.commonPool-worker-25] TRACE c.g.dao.mapper.PlayerDao.selectAll - <==        Row: admin, 1760080270105, null, null, null, null, null, 1760080270104, null, null, null, null, null, null, null, null, <<BLOB>>, <<BLOB>>, null, null, null, null, null, null, null, null
2025-10-11 17:40:47.323 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:40:47.332 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:40:47.332 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 301ms, size: 1
2025-10-11 17:40:47.332 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:40:47.332 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:40:47.332 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:40:47.333 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:40:47.334 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:40:47.362 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:40:47.364 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:40:47.366 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:40:47.367 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@73ca34e7, 2002=com.game.proto.GameProto$LogoutRequest$1@4d98e41b, 1000=com.game.proto.GameProto$HeartbeatMessage$1@5ed5b321}
2025-10-11 17:40:47.367 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:40:47.462 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:40:47.554 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:40:47.907 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:40:47.934 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:40:47.945 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:40:47.951 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:40:47.981 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:40:48.025 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8081 (http)
2025-10-11 17:40:48.032 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:40:48.047 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.48 seconds (JVM running for 2.907)
2025-10-11 17:40:48.049 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:40:48.055 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 17:40:48.796 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:40:48.796 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 17:40:48.934 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:40:48.934 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: PlayerModel.xlsx
2025-10-11 17:40:49.016 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:40:49.016 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: PrivateActivityConfig.xlsx
2025-10-11 17:40:49.038 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:40:49.038 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:40:49.040 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:40:49.392 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:40:49.392 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:40:49.393 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 17:41:25.242 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:41:25.242 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:41:25.243 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:41:25.243 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:41:25.243 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:41:25.246 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:41:25.247 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:41:25.248 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:41:25.252 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:41:25.258 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:41:25.260 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:41:25.327 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:41:25.327 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:41:25.327 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:41:25.327 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:41:25.327 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:41:25.351 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:41:25.351 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:41:25.351 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:41:25.351 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:41:25.351 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:41:25.352 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:41:25.352 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:41:25.386 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:41:25.386 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:41:25.386 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:41:25.386 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:41:25.386 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:41:25.387 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:41:25.391 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:45:14.794 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18148 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:45:14.795 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:45:14.796 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:45:15.653 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:45:15.673 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:45:15.673 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 840 ms
2025-10-11 17:45:15.932 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:45:15.933 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:45:15.933 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:45:15.941 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:45:15.956 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:45:18.790 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:45:18.790 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:46:04.059 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 19156 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:46:04.060 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:46:04.060 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:46:04.915 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:46:04.936 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:46:04.936 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 836 ms
2025-10-11 17:46:05.190 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:46:05.191 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:46:05.191 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:46:05.199 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:46:05.214 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:46:05.415 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:46:05.425 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:46:05.462 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:46:05.492 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:46:05.500 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:46:05.500 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 301ms, size: 1
2025-10-11 17:46:05.500 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:46:05.501 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:46:05.501 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:46:05.501 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:46:05.502 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:46:05.531 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:46:05.533 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:46:05.535 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:46:05.535 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@9b47400, 2002=com.game.proto.GameProto$LogoutRequest$1@747835f5, 1000=com.game.proto.GameProto$HeartbeatMessage$1@594131f2}
2025-10-11 17:46:05.536 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:46:05.629 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:46:05.721 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:46:06.074 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:46:06.101 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:46:06.112 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:46:06.118 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:46:06.150 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:46:06.194 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 17:46:06.201 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:46:06.216 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.478 seconds (JVM running for 2.99)
2025-10-11 17:46:06.218 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:46:06.223 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: AdditionConfig.xlsx
2025-10-11 17:46:06.965 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:46:06.965 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: BaseConfig.xlsx
2025-10-11 17:46:07.120 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:46:07.120 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: PlayerModel.xlsx
2025-10-11 17:46:07.201 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:46:07.202 [main] INFO  com.game.config.ExcelConfigManager - Loading config data from file: PrivateActivityConfig.xlsx
2025-10-11 17:46:07.221 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:46:07.221 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:46:07.223 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:46:07.635 [RMI TCP Connection(5)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:46:07.635 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:46:07.640 [RMI TCP Connection(5)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-10-11 17:46:32.385 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:46:32.385 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:46:32.386 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:46:32.386 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:46:32.386 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:46:32.389 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:46:32.390 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:46:32.390 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:46:32.395 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:46:32.401 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:46:32.403 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:46:32.444 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:46:32.445 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:46:32.445 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:46:32.445 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:46:32.445 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:46:32.491 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:46:32.491 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:46:32.491 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:46:32.492 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:46:32.492 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:46:32.492 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:46:32.492 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:46:32.536 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:46:32.537 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:46:32.537 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:46:32.537 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:46:32.537 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:46:32.537 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:46:32.542 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:46:36.623 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18072 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:46:36.624 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:46:36.624 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:46:37.460 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:46:37.480 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:46:37.480 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 818 ms
2025-10-11 17:46:37.743 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:46:37.744 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:46:37.744 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:46:37.752 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:46:37.766 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:46:37.974 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:46:37.984 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:46:38.020 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:46:38.049 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:46:38.057 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:46:38.057 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 305ms, size: 1
2025-10-11 17:46:38.058 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:46:38.058 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:46:38.058 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:46:38.059 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:46:38.090 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:46:38.093 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:46:38.096 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:46:38.096 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@10980560, 2002=com.game.proto.GameProto$LogoutRequest$1@739e8b96, 1000=com.game.proto.GameProto$HeartbeatMessage$1@19b07407}
2025-10-11 17:46:38.096 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:46:38.191 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:46:38.283 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:46:38.636 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:46:38.663 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:46:38.674 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:46:38.680 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:46:38.711 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:46:38.755 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 17:46:38.762 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:46:38.776 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.476 seconds (JVM running for 2.91)
2025-10-11 17:46:38.777 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:46:39.549 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:46:39.700 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:46:39.782 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:46:39.801 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:46:39.801 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:46:39.803 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:46:40.170 [RMI TCP Connection(1)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:46:40.171 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:46:40.172 [RMI TCP Connection(1)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 17:47:38.071 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:47:38.072 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:47:38.072 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:47:38.072 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:48:38.060 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:48:38.060 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:48:38.060 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:48:38.061 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:49:16.226 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:49:16.226 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:49:16.227 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:49:16.227 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:49:16.227 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:49:16.232 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:49:16.233 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:49:16.233 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:49:16.237 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:49:16.241 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:49:16.242 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:49:16.282 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:49:16.282 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:49:16.282 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:49:16.282 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:49:16.282 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:49:16.342 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:49:16.342 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:49:16.342 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:49:16.342 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:49:16.342 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:49:16.343 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:49:16.343 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:49:16.374 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:49:16.374 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:49:16.374 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:49:16.374 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:49:16.374 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:49:16.375 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:49:16.380 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:49:20.204 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 17568 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:49:20.205 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:49:20.205 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:49:21.065 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:49:21.093 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:49:21.093 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 849 ms
2025-10-11 17:49:21.350 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:49:21.351 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:49:21.351 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:49:21.359 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:49:21.374 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:49:21.576 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:49:21.585 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:49:21.620 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:49:21.649 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:49:21.657 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:49:21.657 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 298ms, size: 1
2025-10-11 17:49:21.657 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:49:21.658 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:49:21.658 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:49:21.660 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:49:21.660 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:49:21.660 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:49:21.660 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:49:21.660 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:49:21.661 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:49:21.661 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:49:21.661 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:49:21.689 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:49:21.691 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:49:21.694 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:49:21.694 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@549ac12c, 2002=com.game.proto.GameProto$LogoutRequest$1@188a5fc2, 1000=com.game.proto.GameProto$HeartbeatMessage$1@1cb9ef52}
2025-10-11 17:49:21.694 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:49:21.790 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:49:21.883 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:49:22.235 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:49:22.263 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:49:22.274 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:49:22.280 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:49:22.311 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:49:22.355 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 17:49:22.363 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:49:22.379 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.505 seconds (JVM running for 2.937)
2025-10-11 17:49:22.381 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:49:23.127 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:49:23.267 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:49:23.358 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:49:23.378 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:49:23.378 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:49:23.379 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:49:23.755 [RMI TCP Connection(3)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:49:23.755 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:49:23.758 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-10-11 17:50:21.665 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:50:21.665 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:50:21.666 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:50:21.666 [ForkJoinPool.commonPool-worker-18] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:51:21.674 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:51:21.674 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:51:21.674 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:51:21.675 [ForkJoinPool.commonPool-worker-11] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:52:21.662 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:52:21.662 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:52:21.662 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:52:21.663 [ForkJoinPool.commonPool-worker-4] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:53:21.669 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Starting scheduled cache data sync
2025-10-11 17:53:21.669 [pool-1-thread-1] DEBUG com.game.cache.CacheManager - Cache data sync completed
2025-10-11 17:53:21.669 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Starting to sync all cache data to database, cache size: 1, insert size: 0, update size: 0, delete size: 0
2025-10-11 17:53:21.669 [ForkJoinPool.commonPool-worker-29] DEBUG com.game.cache.PlayerCache - Cache sync completed: inserts=0, updates=0, deletes=0, errors=0
2025-10-11 17:54:03.741 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:54:03.741 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:54:03.742 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:54:03.742 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:54:03.742 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:54:03.745 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:54:03.746 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:54:03.747 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:54:03.751 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:54:03.758 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:54:03.760 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:54:03.789 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:54:03.790 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:54:03.790 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:54:03.790 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:54:03.790 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:54:03.854 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:54:03.854 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:54:03.854 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:54:03.854 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:54:03.854 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:54:03.855 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:54:03.855 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:54:03.890 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:54:03.890 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:54:03.890 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:54:03.890 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:54:03.890 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:54:03.891 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:54:03.896 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:57:18.074 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 13888 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:57:18.074 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:57:18.075 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:57:18.910 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:57:18.938 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:57:18.938 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 826 ms
2025-10-11 17:57:19.196 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:57:19.197 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:57:19.197 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:57:19.205 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:57:19.220 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:57:19.408 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:57:19.418 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:57:19.455 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:57:19.485 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:57:19.494 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:57:19.494 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 289ms, size: 1
2025-10-11 17:57:19.494 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:57:19.494 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:57:19.494 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:57:19.495 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:57:19.525 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:57:19.527 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:57:19.529 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:57:19.530 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@531ec978, 2002=com.game.proto.GameProto$LogoutRequest$1@93501be, 1000=com.game.proto.GameProto$HeartbeatMessage$1@11d4d979}
2025-10-11 17:57:19.530 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:57:19.624 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:57:19.719 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:57:20.085 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:57:20.111 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:57:20.121 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:57:20.128 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:57:20.159 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:57:20.202 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 17:57:20.209 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:57:20.224 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.47 seconds (JVM running for 2.914)
2025-10-11 17:57:20.226 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:57:20.961 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:57:21.103 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:57:21.196 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:57:21.216 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:57:21.216 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:57:21.217 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:57:21.618 [RMI TCP Connection(3)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:57:21.618 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:57:21.620 [RMI TCP Connection(3)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-10-11 17:57:24.637 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:57:24.637 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:57:24.638 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:57:24.638 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:57:24.638 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:57:24.642 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:57:24.643 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:57:24.648 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:57:24.651 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:57:24.656 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:57:24.657 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:57:24.696 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:57:24.696 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:57:24.696 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:57:24.696 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:57:24.696 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:57:24.752 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:57:24.753 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:57:24.796 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:57:24.796 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:57:24.796 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:57:24.796 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:57:24.796 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:57:24.797 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:57:24.801 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 17:58:57.050 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 16636 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 17:58:57.051 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 17:58:57.052 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 17:58:57.958 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 17:58:57.982 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 17:58:57.982 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 892 ms
2025-10-11 17:58:58.285 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 17:58:58.286 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 17:58:58.287 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 17:58:58.295 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 17:58:58.313 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 17:58:58.540 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 17:58:58.552 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 17:58:58.590 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 17:58:58.623 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 17:58:58.633 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 17:58:58.633 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 338ms, size: 1
2025-10-11 17:58:58.634 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 17:58:58.634 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 17:58:58.634 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 17:58:58.635 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 17:58:58.636 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 17:58:58.636 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 17:58:58.669 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 17:58:58.671 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 17:58:58.674 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 17:58:58.674 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@11d4d979, 2002=com.game.proto.GameProto$LogoutRequest$1@195580ba, 1000=com.game.proto.GameProto$HeartbeatMessage$1@3c25cfe1}
2025-10-11 17:58:58.674 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 17:58:58.777 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 17:58:58.887 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 17:58:59.300 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 17:58:59.330 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 17:58:59.342 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 17:58:59.350 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 17:58:59.388 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 17:58:59.437 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 17:58:59.445 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 17:58:59.462 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.739 seconds (JVM running for 3.311)
2025-10-11 17:58:59.464 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 17:59:00.259 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 17:59:00.412 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 17:59:00.515 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 17:59:00.537 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 17:59:00.538 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 17:59:00.539 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 17:59:01.085 [RMI TCP Connection(4)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 17:59:01.085 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 17:59:01.089 [RMI TCP Connection(4)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-10-11 17:59:14.570 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 17:59:14.570 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:59:14.570 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:59:14.570 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:59:14.570 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:59:14.574 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:59:14.575 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:59:14.576 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 17:59:14.579 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:59:14.586 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 17:59:14.588 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 17:59:14.617 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:59:14.617 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:59:14.617 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:59:14.617 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:59:14.617 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 17:59:14.676 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 17:59:14.676 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 17:59:14.676 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 17:59:14.676 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 17:59:14.677 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 17:59:14.677 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 17:59:14.677 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 17:59:14.716 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 17:59:14.717 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 17:59:14.717 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 17:59:14.717 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 17:59:14.717 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 17:59:14.718 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 17:59:14.723 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 18:00:25.148 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 18884 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 18:00:25.149 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 18:00:25.149 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 18:00:26.023 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 18:00:26.042 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 18:00:26.042 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 856 ms
2025-10-11 18:00:26.298 [main] INFO  com.game.cache.CacheManager - Registered cache: PlayerCache
2025-10-11 18:00:26.299 [main] INFO  com.game.cache.CacheManager - Auto-discovered 1 cache instances
2025-10-11 18:00:26.300 [main] INFO  com.game.cache.CacheManager - Starting to load all caches from database...
2025-10-11 18:00:26.308 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loading data from database for cache: PlayerCache
2025-10-11 18:00:26.323 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-10-11 18:00:26.524 [ForkJoinPool.commonPool-worker-25] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-10-11 18:00:26.533 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==>  Preparing: SELECT * FROM player
2025-10-11 18:00:26.569 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - ==> Parameters: 
2025-10-11 18:00:26.602 [ForkJoinPool.commonPool-worker-25] DEBUG c.g.dao.mapper.PlayerDao.selectAll - <==      Total: 1
2025-10-11 18:00:26.611 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.PlayerCache - Loaded 1 entities from database
2025-10-11 18:00:26.611 [ForkJoinPool.commonPool-worker-25] INFO  com.game.cache.CacheManager - Cache PlayerCache loaded successfully in 303ms, size: 1
2025-10-11 18:00:26.612 [main] INFO  com.game.cache.CacheManager - All 1 caches loaded successfully from database
2025-10-11 18:00:26.612 [main] INFO  com.game.cache.CacheManager - Cache scheduled tasks started
2025-10-11 18:00:26.612 [main] INFO  com.game.cache.CacheManager - CacheManager initialized with 1 caches
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication -   Cache Stats: [PlayerCache: size=1, toInsert=0, toUpdate=0, toDelete=0]
2025-10-11 18:00:26.613 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 18:00:26.642 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 1000: HeartBeatHandler
2025-10-11 18:00:26.644 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2002: UserLogoutHandler
2025-10-11 18:00:26.647 [main] INFO  com.game.core.GameHandlerManager - Registered handler for msgId 2000: UserModuleHandler
2025-10-11 18:00:26.647 [main] INFO  com.game.core.GameHandlerManager - parserMap:{2000=com.game.proto.GameProto$LoginRequest$1@1a2e0d57, 2002=com.game.proto.GameProto$LogoutRequest$1@5f025000, 1000=com.game.proto.GameProto$HeartbeatMessage$1@10980560}
2025-10-11 18:00:26.647 [main] INFO  com.game.core.GameHandlerManager - Total registered handlers: 3
2025-10-11 18:00:26.741 [main] INFO  com.game.netty.NettyServer - Starting Netty server on port 9999
2025-10-11 18:00:26.833 [main] INFO  com.game.netty.NettyServer - Netty server started successfully on port 9999
2025-10-11 18:00:27.182 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2025-10-11 18:00:27.208 [main] INFO  io.undertow - starting server: Undertow - 2.2.28.Final
2025-10-11 18:00:27.218 [main] INFO  org.xnio - XNIO version 3.8.7.Final
2025-10-11 18:00:27.225 [main] INFO  org.xnio.nio - XNIO NIO Implementation Version 3.8.7.Final
2025-10-11 18:00:27.256 [main] INFO  org.jboss.threads - JBoss Threads version 3.1.0.Final
2025-10-11 18:00:27.300 [main] INFO  o.s.b.w.e.undertow.UndertowWebServer - Undertow started on port(s) 8080 (http)
2025-10-11 18:00:27.307 [main] INFO  o.s.s.a.ScheduledAnnotationBeanPostProcessor - More than one ScheduledExecutorService bean exists within the context, and none is named 'taskScheduler'. Mark one of them as primary or name it 'taskScheduler' (possibly as an alias); or implement the SchedulingConfigurer interface and call ScheduledTaskRegistrar#setScheduler explicitly within the configureTasks() callback: [bossGroup, workerGroup]
2025-10-11 18:00:27.323 [main] INFO  c.game.server.GameServerApplication - Started GameServerApplication in 2.498 seconds (JVM running for 2.949)
2025-10-11 18:00:27.325 [main] INFO  com.game.init.ConfigInitializer - 开始初始化Excel配置文件...
2025-10-11 18:00:28.064 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 696 records from AdditionConfig.xlsx
2025-10-11 18:00:28.216 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 709 records from BaseConfig.xlsx
2025-10-11 18:00:28.296 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 227 records from PlayerModel.xlsx
2025-10-11 18:00:28.315 [main] INFO  com.game.config.ExcelConfigManager - Successfully loaded 7 records from PrivateActivityConfig.xlsx
2025-10-11 18:00:28.316 [main] INFO  com.game.init.ConfigInitializer - 配置文件初始化完成，共加载了 4 个配置文件
2025-10-11 18:00:28.317 [main] INFO  c.game.server.GameServerApplication - Game Server Application started successfully!
2025-10-11 18:00:28.726 [RMI TCP Connection(2)-192.168.0.179] INFO  io.undertow.servlet - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-11 18:00:28.726 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-10-11 18:00:28.727 [RMI TCP Connection(2)-192.168.0.179] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-10-11 18:00:31.502 [Thread-1] INFO  c.game.server.GameServerApplication - JVM shutdown hook triggered, starting graceful shutdown...
2025-10-11 18:00:31.503 [Thread-1] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 18:00:31.503 [Thread-7] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 18:00:31.503 [Thread-1] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 18:00:31.503 [Thread-1] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 18:00:31.505 [Thread-7] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 18:00:31.507 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 18:00:31.508 [SpringApplicationShutdownHook] INFO  io.undertow - stopping server: Undertow - 2.2.28.Final
2025-10-11 18:00:31.512 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 18:00:31.519 [SpringApplicationShutdownHook] INFO  io.undertow.servlet - Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-10-11 18:00:31.521 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Stopping Netty server...
2025-10-11 18:00:31.550 [Thread-1] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 18:00:31.551 [Thread-1] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 18:00:31.551 [Thread-1] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 18:00:31.551 [Thread-1] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 18:00:31.551 [Thread-1] INFO  c.game.server.GameServerApplication - Graceful shutdown completed
2025-10-11 18:00:31.618 [SpringApplicationShutdownHook] INFO  com.game.netty.NettyServer - Netty server stopped
2025-10-11 18:00:31.618 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Shutting down CacheManager
2025-10-11 18:00:31.618 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Starting to sync all cache data to database...
2025-10-11 18:00:31.618 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Syncing cache PlayerCache to database...
2025-10-11 18:00:31.618 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Starting to save all cache data to database
2025-10-11 18:00:31.619 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==>  Preparing: UPDATE player SET userid = ?, macaddr = ?, channel = ?, serverindex = ?, language = ?, createtime = ?, logintime = ?, logouttime = ?, gm = ?, platform = ?, devicetype = ?, networktype = ?, sourceid = ?, totalcharge = ?, totalprice = ?, paygroupids = ?, paylimit = ?, firstbuy = ?, secondbuy = ?, thirdbuy = ?, buytime = ?, pushset = ?, deviceversion = ?, state = ?, createnum = ? WHERE playerid = ?
2025-10-11 18:00:31.619 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - ==> Parameters: admin(String), null, null, null, null, null, 1760080270104(Long), null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, 1760080270105(Long)
2025-10-11 18:00:31.659 [SpringApplicationShutdownHook] DEBUG com.game.dao.mapper.PlayerDao.update - <==    Updates: 1
2025-10-11 18:00:31.659 [SpringApplicationShutdownHook] INFO  com.game.cache.PlayerCache - Cache save completed: inserts=0, updates=1, deletes=0, errors=0
2025-10-11 18:00:31.659 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache PlayerCache synced successfully
2025-10-11 18:00:31.659 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - Cache sync completed: success=1, errors=0
2025-10-11 18:00:31.659 [SpringApplicationShutdownHook] INFO  com.game.cache.CacheManager - CacheManager shutdown completed
2025-10-11 18:00:31.660 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-10-11 18:00:31.664 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-10-11 18:04:03.361 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 15276 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 18:04:03.362 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 18:04:03.362 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 18:04:03.922 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.game.server]' package. Please check your configuration.
2025-10-11 18:04:04.189 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 18:04:04.210 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 18:04:04.210 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 815 ms
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication - Initializing Game Server...
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication - Cache initialization completed
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication - =================================
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication -   Game Server Started Successfully
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication -   TCP Port: 9999
2025-10-11 18:04:04.368 [main] INFO  c.game.server.GameServerApplication -   HTTP Port: 8080
2025-10-11 18:04:04.371 [main] ERROR c.game.server.GameServerApplication - Failed to initialize Game Server
java.lang.NullPointerException: null
	at com.game.GameServerApplication.init(GameServerApplication.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:27)
2025-10-11 18:04:04.373 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameServerApplication': Invocation of init method failed; nested exception is java.lang.RuntimeException: Game Server initialization failed
2025-10-11 18:04:04.381 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-11 18:04:04.402 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameServerApplication': Invocation of init method failed; nested exception is java.lang.RuntimeException: Game Server initialization failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:27)
Caused by: java.lang.RuntimeException: Game Server initialization failed
	at com.game.GameServerApplication.init(GameServerApplication.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 18 common frames omitted
Caused by: java.lang.NullPointerException: null
	at com.game.GameServerApplication.init(GameServerApplication.java:48)
	... 25 common frames omitted
2025-10-11 18:04:04.403 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameServerApplication': Invocation of init method failed; nested exception is java.lang.RuntimeException: Game Server initialization failed
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:27)
Caused by: java.lang.RuntimeException: Game Server initialization failed
	at com.game.GameServerApplication.init(GameServerApplication.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)
	... 18 common frames omitted
Caused by: java.lang.NullPointerException: null
	at com.game.GameServerApplication.init(GameServerApplication.java:48)
	... 25 common frames omitted
2025-10-11 18:04:31.417 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 19348 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 18:04:31.417 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 18:04:31.418 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 18:04:31.989 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.game.server]' package. Please check your configuration.
2025-10-11 18:04:32.267 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 18:04:32.296 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 18:04:32.296 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 844 ms
2025-10-11 18:04:32.457 [main] ERROR com.game.cache.CacheManager - Failed to auto-discover cache instances
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
2025-10-11 18:04:32.457 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
2025-10-11 18:04:32.466 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-11 18:04:32.484 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.game.cache.PlayerCache required a bean of type 'com.game.dao.mapper.PlayerDao' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.game.dao.mapper.PlayerDao' in your configuration.

2025-10-11 18:04:32.485 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: java.lang.RuntimeException: Cache auto-discovery failed
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:71)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 30 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
2025-10-11 18:06:20.490 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 14696 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 18:06:20.491 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 18:06:20.492 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 18:06:21.062 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.game.server]' package. Please check your configuration.
2025-10-11 18:06:21.331 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 18:06:21.351 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 18:06:21.352 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 828 ms
2025-10-11 18:06:21.520 [main] ERROR com.game.cache.CacheManager - Failed to auto-discover cache instances
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
2025-10-11 18:06:21.520 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
2025-10-11 18:06:21.528 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-11 18:06:21.545 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.game.cache.PlayerCache required a bean of type 'com.game.dao.mapper.PlayerDao' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.game.dao.mapper.PlayerDao' in your configuration.

2025-10-11 18:06:21.546 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: java.lang.RuntimeException: Cache auto-discovery failed
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:71)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 30 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
2025-10-11 18:08:09.401 [main] INFO  c.game.server.GameServerApplication - Starting GameServerApplication using Java 1.8.0_341 on XY-20220402IXAT with PID 16892 (D:\workspace-vs\study\qoder\game-server\target\classes started by Administrator in D:\workspace-vs\study\qoder)
2025-10-11 18:08:09.402 [main] DEBUG c.game.server.GameServerApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
2025-10-11 18:08:09.402 [main] INFO  c.game.server.GameServerApplication - No active profile set, falling back to 1 default profile: "default"
2025-10-11 18:08:09.959 [main] WARN  o.m.s.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[com.game.server]' package. Please check your configuration.
2025-10-11 18:08:10.225 [main] WARN  io.undertow.websockets.jsr - UT026010: Buffer pool was not set on WebSocketDeploymentInfo, the default pool will be used
2025-10-11 18:08:10.245 [main] INFO  io.undertow.servlet - Initializing Spring embedded WebApplicationContext
2025-10-11 18:08:10.245 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 810 ms
2025-10-11 18:08:10.411 [main] ERROR com.game.cache.CacheManager - Failed to auto-discover cache instances
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
2025-10-11 18:08:10.411 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
2025-10-11 18:08:10.419 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-10-11 18:08:10.435 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.game.cache.PlayerCache required a bean of type 'com.game.dao.mapper.PlayerDao' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.game.dao.mapper.PlayerDao' in your configuration.

2025-10-11 18:08:10.436 [main] ERROR c.game.server.GameServerApplication - Failed to start Game Server Application
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gameServerApplication': Unsatisfied dependency expressed through field 'cacheManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:408)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:929)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.game.GameServerApplication.main(GameServerApplication.java:28)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cacheManager' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\CacheManager.class]: Invocation of init method failed; nested exception is java.lang.RuntimeException: Cache auto-discovery failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710)
	... 20 common frames omitted
Caused by: java.lang.RuntimeException: Cache auto-discovery failed
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:71)
	at com.game.cache.CacheManager.afterPropertiesSet(CacheManager.java:45)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 30 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'playerCache' defined in file [D:\workspace-vs\study\qoder\game-server\target\classes\com\game\cache\PlayerCache.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:673)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:661)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1314)
	at com.game.cache.CacheManager.autoDiscoverAndRegisterCaches(CacheManager.java:62)
	... 33 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.game.dao.mapper.PlayerDao' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 46 common frames omitted
